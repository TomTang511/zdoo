/*!
 * ZUI: Changerpress template - v1.9.1 - 2019-06-04
 * http://zui.sexy
 * GitHub: https://github.com/easysoft/zui.git 
 * Copyright (c) 2019 cnezsoft.com; Licensed MIT
 */
!function(t,e,i){"use strict";if("undefined"==typeof t)throw new Error("ZUI requires jQuery");t.zui||(t.zui=function(e){t.isPlainObject(e)&&t.extend(t.zui,e)});var o={all:-1,left:0,middle:1,right:2},a=0;t.zui({uuid:function(t){var e=1e3*(new Date).getTime()+a++%1e3;return t?e:e.toString(36)},callEvent:function(e,o,a){if(t.isFunction(e)){a!==i&&(e=t.proxy(e,a));var s=e(o);return o&&(o.result=s),!(s!==i&&!s)}return 1},clientLang:function(){var i,o=e.config;if("undefined"!=typeof o&&o.clientLang&&(i=o.clientLang),!i){var a=t("html").attr("lang");i=a?a:navigator.userLanguage||navigator.userLanguage||"zh_cn"}return i.replace("-","_").toLowerCase()},strCode:function(t){var e=0;if(t&&t.length)for(var i=0;i<t.length;++i)e+=i*t.charCodeAt(i);return e},getMouseButtonCode:function(t){return"number"!=typeof t&&(t=o[t]),t!==i&&null!==t||(t=-1),t}}),t.fn.callEvent=function(e,o,a){var s=t(this),n=e.indexOf(".zui."),r=n<0?e:e.substring(0,n),l=t.Event(r,o);if(a===i&&n>0&&(a=s.data(e.substring(n+1))),a&&a.options){var d=a.options[r];t.isFunction(d)&&(l.result=t.zui.callEvent(d,l,a))}return s.trigger(l),l},t.fn.callComEvent=function(e,o,a){a===i||t.isArray(a)||(a=[a]);var s=this,n=s.triggerHandler(o,a),r=e.options[o];return r&&(n=r.apply(e,a)),n}}(jQuery,window,void 0),function(){"use strict";String.prototype.format||(String.prototype.format=function(t){var e=this;if(arguments.length>0){var i;if(arguments.length<=2&&"object"==typeof t)for(var o in t)void 0!==t[o]&&(i=new RegExp("("+(arguments[1]?arguments[1].replace("0",o):"{"+o+"}")+")","g"),e=e.replace(i,t[o]));else for(var a=0;a<arguments.length;a++)void 0!==arguments[a]&&(i=new RegExp("({["+a+"]})","g"),e=e.replace(i,arguments[a]))}return e}),String.prototype.isNum||(String.prototype.isNum=function(t){if(null!==t){var e,i;return i=/\d*/i,e=t.match(i),e==t}return!1}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var i=this.toString();(void 0===e||e>i.length)&&(e=i.length),e-=t.length;var o=i.indexOf(t,e);return o!==-1&&o===e}),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.lastIndexOf(t,e)===e}),String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1})}(),/*!
 * jQuery resize event - v1.1
 * http://benalman.com/projects/jquery-resize-plugin/
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * MIT & GPL http://benalman.com/about/license/
 */
function(t,e,i){"$:nomunge";function o(){a=e[r](function(){s.each(function(){var e=t(this),i=e.width(),o=e.height(),a=t.data(this,d);i===a.w&&o===a.h||e.trigger(l,[a.w=i,a.h=o])}),o()},n[c])}var a,s=t([]),n=t.resize=t.extend(t.resize,{}),r="setTimeout",l="resize",d=l+"-special-event",c="delay",h="throttleWindow";n[c]=250,n[h]=!0,t.event.special[l]={setup:function(){if(!n[h]&&this[r])return!1;var e=t(this);s=s.add(e),t.data(this,d,{w:e.width(),h:e.height()}),1===s.length&&o()},teardown:function(){if(!n[h]&&this[r])return!1;var e=t(this);s=s.not(e),e.removeData(d),s.length||clearTimeout(a)},add:function(e){function o(e,o,s){var n=t(this),r=t.data(this,d)||{};r.w=o!==i?o:n.width(),r.h=s!==i?s:n.height(),a.apply(this,arguments)}if(!n[h]&&this[r])return!1;var a;return t.isFunction(e)?(a=e,o):(a=e.handler,void(e.handler=o))}}}(jQuery,this),function(){"use strict";Date.ONEDAY_TICKS=864e5,Date.prototype.format||(Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()};/(y+)/i.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in e)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[i]:("00"+e[i]).substr((""+e[i]).length)));return t}),Date.prototype.addMilliseconds||(Date.prototype.addMilliseconds=function(t){return this.setTime(this.getTime()+t),this}),Date.prototype.addDays||(Date.prototype.addDays=function(t){return this.addMilliseconds(t*Date.ONEDAY_TICKS),this}),Date.prototype.clone||(Date.prototype.clone=function(){var t=new Date;return t.setTime(this.getTime()),t}),Date.isLeapYear||(Date.isLeapYear=function(t){return t%4===0&&t%100!==0||t%400===0}),Date.getDaysInMonth||(Date.getDaysInMonth=function(t,e){return[31,Date.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]}),Date.prototype.isLeapYear||(Date.prototype.isLeapYear=function(){return Date.isLeapYear(this.getFullYear())}),Date.prototype.clearTime||(Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this}),Date.prototype.getDaysInMonth||(Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())}),Date.prototype.addMonths||(Date.prototype.addMonths=function(t){var e=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+t),this.setDate(Math.min(e,this.getDaysInMonth())),this}),Date.prototype.getLastWeekday||(Date.prototype.getLastWeekday=function(t){t=t||1;for(var e=this.clone();e.getDay()!=t;)e.addDays(-1);return e.clearTime(),e}),Date.prototype.isSameDay||(Date.prototype.isSameDay=function(t){return t.toDateString()===this.toDateString()}),Date.prototype.isSameWeek||(Date.prototype.isSameWeek=function(t){var e=this.getLastWeekday(),i=e.clone().addDays(7);return t>=e&&t<i}),Date.prototype.isSameYear||(Date.prototype.isSameYear=function(t){return this.getFullYear()===t.getFullYear()}),Date.create||(Date.create=function(t){return t instanceof Date||("number"==typeof t&&t<1e10&&(t*=1e3),t=new Date(t)),t}),Date.timestamp||(Date.timestamp=function(t){return"number"==typeof t?t<1e10&&(t*=1e3):t=Date.create(t).getTime(),t})}(),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});var a=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(a,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t,e){"use strict";var i="zui.draggable",o={container:"body",move:!0},a=0,s=function(e,i){var s=this;s.$=t(e),s.id=a++,s.options=t.extend({},o,s.$.data(),i),s.init()};s.DEFAULTS=o,s.NAME=i,s.prototype.init=function(){var o,a,s,n,r,l=this,d=l.$,c="before",h="drag",p="finish",f="."+i+"."+l.id,u="mousedown"+f,g="mouseup"+f,m="mousemove"+f,v=l.options,b=v.selector,_=v.handle,y=d,w=t.isFunction(v.move),x=function(t){var e=t.pageX,i=t.pageY;r=!0;var a={left:e-s.x,top:i-s.y};y.removeClass("drag-ready").addClass("dragging"),v.move&&(w?v.move(a,y):y.css(a)),v[h]&&v[h]({event:t,element:y,startOffset:s,pos:a,offset:{x:e-o.x,y:i-o.y},smallOffset:{x:e-n.x,y:i-n.y}}),n.x=e,n.y=i,v.stopPropagation&&t.stopPropagation()},C=function(i){if(t(e).off(f),!r)return void y.removeClass("drag-ready");var a={left:i.pageX-s.x,top:i.pageY-s.y};y.removeClass("drag-ready dragging"),v.move&&(w?v.move(a,y):y.css(a)),v[p]&&v[p]({event:i,element:y,startOffset:s,pos:a,offset:{x:i.pageX-o.x,y:i.pageY-o.y},smallOffset:{x:i.pageX-n.x,y:i.pageY-n.y}}),i.preventDefault(),v.stopPropagation&&i.stopPropagation()},k=function(i){var l=t.zui.getMouseButtonCode(v.mouseButton);if(!(l>-1&&i.button!==l)){var d=t(this);if(b&&(y=_?d.closest(b):d),v[c]){var h=v[c]({event:i,element:y});if(h===!1)return}var p=t(v.container),f=y.offset();a=p.offset(),o={x:i.pageX,y:i.pageY},s={x:i.pageX-f.left+a.left,y:i.pageY-f.top+a.top},n=t.extend({},o),r=!1,y.addClass("drag-ready"),i.preventDefault(),v.stopPropagation&&i.stopPropagation(),t(e).on(m,x).on(g,C)}};_?d.on(u,_,k):b?d.on(u,b,k):d.on(u,k)},s.prototype.destroy=function(){var o="."+i+"."+this.id;this.$.off(o),t(e).off(o),this.$.data(i,null)},t.fn.draggable=function(e){return this.each(function(){var o=t(this),a=o.data(i),n="object"==typeof e&&e;a||o.data(i,a=new s(this,n)),"string"==typeof e&&a[e]()})},t.fn.draggable.Constructor=s}(jQuery,document),function(t,e,i){"use strict";var o="zui.droppable",a={target:".droppable-target",deviation:5,sensorOffsetX:0,sensorOffsetY:0,dropToClass:"drop-to"},s=0,n=function(e,i){var o=this;o.id=s++,o.$=t(e),o.options=t.extend({},a,o.$.data(),i),o.init()};n.DEFAULTS=a,n.NAME=o,n.prototype.trigger=function(e,i){return t.zui.callEvent(this.options[e],i,this)},n.prototype.init=function(){var a,s,n,r,l,d,c,h,p,f,u,g,m,v=this,b=v.$,_=v.options,y=_.deviation,w="."+o+"."+v.id,x="mousedown"+w,C="mouseup"+w,k="mousemove"+w,$=_.selector,T=_.handle,z=_.flex,E=_.container,S=_.canMoveHere,D=_.dropToClass,I=b,P=!1,O=E?t(_.container).first():$?b:t("body"),H=function(e){if(P&&(u={left:e.pageX,top:e.pageY},!(i.abs(u.left-h.left)<y&&i.abs(u.top-h.top)<y))){if(null===n){var o=O.css("position");"absolute"!=o&&"relative"!=o&&"fixed"!=o&&(d=o,O.css("position","relative")),n=I.clone().removeClass("drag-from").addClass("drag-shadow").css({position:"absolute",width:I.outerWidth(),transition:"none"}).appendTo(O),I.addClass("dragging"),v.trigger("start",{event:e,element:I,targets:a})}var c={left:u.left-f.left,top:u.top-f.top},m={left:c.left-p.left,top:c.top-p.top};n.css(m),t.extend(g,u);var b=!1;r=!1,z||a.removeClass(D);var w=null;if(a.each(function(){var e=t(this),i=e.offset(),o=e.outerWidth(),a=e.outerHeight(),s=i.left+_.sensorOffsetX,n=i.top+_.sensorOffsetY;if(u.left>s&&u.top>n&&u.left<s+o&&u.top<n+a&&(w&&w.removeClass(D),w=e,!_.nested))return!1}),w){r=!0;var x=w.data("id");I.data("id")!=x&&(l=!1),(null===s||s.data("id")!==x&&!l)&&(b=!0),s=w,z&&a.removeClass(D),s.addClass(D)}z?null!==s&&s.length&&(r=!0):(I.toggleClass("drop-in",r),n.toggleClass("drop-in",r)),S&&S(I,s)===!1||v.trigger("drag",{event:e,isIn:r,target:s,element:I,isNew:b,selfTarget:l,clickOffset:f,offset:c,position:{left:c.left-p.left,top:c.top-p.top},mouseOffset:u}),e.preventDefault()}},L=function(i){if(t(e).off(w),clearTimeout(m),P){if(P=!1,d&&O.css("position",d),null===n)return I.removeClass("drag-from"),void v.trigger("always",{event:i,cancel:!0});r||(s=null);var o=!0;u=i?{left:i.pageX,top:i.pageY}:g;var c={left:u.left-f.left,top:u.top-f.top},h={left:u.left-g.left,top:u.top-g.top};g.left=u.left,g.top=u.top;var b={event:i,isIn:r,target:s,element:I,isNew:!l&&null!==s,selfTarget:l,offset:c,mouseOffset:u,position:{left:c.left-p.left,top:c.top-p.top},lastMouseOffset:g,moveOffset:h};o=v.trigger("beforeDrop",b),o&&r&&v.trigger("drop",b),a.removeClass(D),I.removeClass("dragging").removeClass("drag-from"),n.remove(),n=null,v.trigger("finish",b),v.trigger("always",b),i&&i.preventDefault()}},j=function(i){var o=t.zui.getMouseButtonCode(_.mouseButton);if(!(o>-1&&i.button!==o)){var u=t(this);$&&(I=T?u.closest($):u),I.hasClass("drag-shadow")||_.before&&_.before({event:i,element:I})===!1||(P=!0,a=t.isFunction(_.target)?_.target(I,b):O.find(_.target),s=null,n=null,r=!1,l=!0,d=null,c=I.offset(),p=O.offset(),p.top=p.top-O.scrollTop(),p.left=p.left-O.scrollLeft(),h={left:i.pageX,top:i.pageY},g=t.extend({},h),f={left:h.left-c.left,top:h.top-c.top},I.addClass("drag-from"),t(e).on(k,H).on(C,L),m=setTimeout(function(){t(e).on(x,L)},10),i.preventDefault(),_.stopPropagation&&i.stopPropagation())}};T?b.on(x,T,j):$?b.on(x,$,j):b.on(x,j)},n.prototype.destroy=function(){var i="."+o+"."+this.id;this.$.off(i),t(e).off(i),this.$.data(o,null)},n.prototype.reset=function(){this.destroy(),this.init()},t.fn.droppable=function(e){return this.each(function(){var i=t(this),a=i.data(o),s="object"==typeof e&&e;a||i.data(o,a=new n(this,s)),"string"==typeof e&&a[e]()})},t.fn.droppable.Constructor=n}(jQuery,document,Math),function(t){"use strict";if(!t.fn.droppable)throw new Error("Droppable requires for boards");var e=function(e,i){this.$=t(e),this.options=this.getOptions(i),this.getLang(),this.init()};e.DEFAULTS={langs:{zh_cn:{append2end:"移动到末尾"},zh_tw:{append2end:"移动到末尾"},en:{append2end:"Move to the end."}}},e.prototype.getOptions=function(i){return i=t.extend({lang:t.zui.clientLang()},e.DEFAULTS,this.$.data(),i)},e.prototype.getLang=function(){var t=this.options;this.lang=t.langs[t.lang]||t.langs[e.DEFAULTS.lang]},e.prototype.init=function(){var e=1,i=this.lang;this.$.find('.board-item:not(".disable-drop"), .board:not(".disable-drop")').each(function(){var o=t(this);o.attr("id")?o.attr("data-id",o.attr("id")):o.attr("data-id")||o.attr("data-id","board"+e++),o.hasClass("board")&&o.find(".board-list").append('<div class="board-item board-item-empty"><i class="icon-plus"></i> {append2end}</div>'.format(i)).append('<div class="board-item board-item-shadow"></div>'.format(i))}),this.bind()},e.prototype.bind=function(e){var i=this.$,o=this.options;i.droppable(t.extend({before:o.before,target:'.board-item:not(".disable-drop, .board-item-shadow")',flex:!0,selector:'.board-item:not(".disable-drop, .board-item-shadow")',start:function(t){i.addClass("dragging").find(".board-item-shadow").height(t.element.outerHeight())},drag:function(t){if(i.find(".board.drop-in-empty").removeClass("drop-in-empty"),t.isIn){var e=t.target.closest(".board").addClass("drop-in"),o=e.find(".board-item-shadow"),a=t.target;i.addClass("drop-in").find(".board.drop-in").not(e).removeClass("drop-in"),o.insertBefore(a),e.toggleClass("drop-in-empty",a.hasClass("board-item-empty"))}},drop:function(e){if(e.isNew){var i;t.isFunction(o.drop)&&(i=o.drop(e)),i!==!1&&e.element.insertBefore(e.target)}},finish:function(){i.removeClass("dragging").removeClass("drop-in").find(".board.drop-in").removeClass("drop-in")}},o.droppable))},t.fn.boards=function(i){return this.each(function(){var o=t(this),a=o.data("zui.boards"),s="object"==typeof i&&i;a||o.data("zui.boards",a=new e(this,s)),"string"==typeof i&&a[i]()})},t.fn.boards.Constructor=e}(jQuery),/*!
 * jQuery Hotkeys Plugin
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Based upon the plugin by Tzury Bar Yochay:
 * http://github.com/tzuryby/hotkeys
 *
 * Original idea by:
 * Binny V A, http://www.openjs.com/scripts/events/keyboard_shortcuts/
*/
function(t){function e(e){if("string"==typeof e.data){var i=e.handler,o=e.data.toLowerCase().split(" ");e.handler=function(e){if(this===e.target||!/textarea|select/i.test(e.target.nodeName)&&"text"!==e.target.type){var a="keypress"!==e.type&&t.hotkeys.specialKeys[e.which],s=String.fromCharCode(e.which).toLowerCase(),n="",r={};e.altKey&&"alt"!==a&&(n+="alt+"),e.ctrlKey&&"ctrl"!==a&&(n+="ctrl+"),e.metaKey&&!e.ctrlKey&&"meta"!==a&&(n+="meta+"),e.shiftKey&&"shift"!==a&&(n+="shift+"),a?r[n+a]=!0:(r[n+s]=!0,r[n+t.hotkeys.shiftNums[s]]=!0,"shift+"===n&&(r[t.hotkeys.shiftNums[s]]=!0));for(var l=0,d=o.length;l<d;l++)if(r[o[l]])return i.apply(this,arguments)}}}}t.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},t.each(["keydown","keyup","keypress"],function(){t.event.special[this]={add:e}})}(jQuery),function(t){"use strict";t.fn.fixOlPd=function(e){return e=e||10,this.each(function(){var i=t(this);i.css("paddingLeft",Math.ceil(Math.log10(i.children().length))*e+10)})},t(function(){t(".ol-pd-fix,.article ol").fixOlPd()})}(jQuery),function(t){"use strict";var e={zh_cn:'您的浏览器版本过低，无法体验所有功能，建议升级或者更换浏览器。 <a href="http://browsehappy.com/" target="_blank" class="alert-link">了解更多...</a>',zh_tw:'您的瀏覽器版本過低，無法體驗所有功能，建議升級或者更换瀏覽器。<a href="http://browsehappy.com/" target="_blank" class="alert-link">了解更多...</a>',en:'Your browser is too old, it has been unable to experience the colorful internet. We strongly recommend that you upgrade a better one. <a href="http://browsehappy.com/" target="_blank" class="alert-link">Learn more...</a>'},i=function(){var t=this.isIE()||this.isIE10()||!1;if(t)for(var e=10;e>5;e--)if(this.isIE(e)){t=e;break}this.ie=t,this.cssHelper()};i.prototype.cssHelper=function(){var e=this.ie,i=t("html");i.toggleClass("ie",e).removeClass("ie-6 ie-7 ie-8 ie-9 ie-10"),e&&i.addClass("ie-"+e).toggleClass("gt-ie-7 gte-ie-8 support-ie",e>=8).toggleClass("lte-ie-7 lt-ie-8 outdated-ie",e<8).toggleClass("gt-ie-8 gte-ie-9",e>=9).toggleClass("lte-ie-8 lt-ie-9",e<9).toggleClass("gt-ie-9 gte-ie-10",e>=10).toggleClass("lte-ie-9 lt-ie-10",e<10)},i.prototype.tip=function(i){var o=t("#browseHappyTip");o.length||(o=t('<div id="browseHappyTip" class="alert alert-dismissable alert-danger-inverse alert-block" style="position: relative; z-index: 99999"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><div class="container"><div class="content text-center"></div></div></div>'),o.prependTo("body")),o.find(".content").html(i||this.browseHappyTip||e[t.zui.clientLang()||"zh_cn"])},i.prototype.isIE=function(t){if(10===t)return this.isIE10();var e=document.createElement("b");return e.innerHTML="<!--[if IE "+(t||"")+"]><i></i><![endif]-->",1===e.getElementsByTagName("i").length},i.prototype.isIE10=function(){return!1},t.zui({browser:new i}),t(function(){t("body").hasClass("disabled-browser-tip")||t.zui.browser.ie&&t.zui.browser.ie<8&&t.zui.browser.tip()})}(jQuery),function(t,e){"use strict";var i="zui.pager",o={page:1,recTotal:0,recPerPage:10},a={zh_cn:{pageOfText:"第 {0} 页",prev:"上一页",next:"下一页",first:"第一页",last:"最后一页","goto":"跳转",pageOf:"第 <strong>{page}</strong> 页",totalPage:"共 <strong>{totalPage}</strong> 页",totalCount:"共 <strong>{recTotal}</strong> 项",pageSize:"每页 <strong>{recPerPage}</strong> 项",itemsRange:"第 <strong>{start}</strong> ~ <strong>{end}</strong> 项",pageOfTotal:"第 <strong>{page}</strong>/<strong>{totalPage}</strong> 页"},zh_tw:{pageOfText:"第 {0} 頁",prev:"上一頁",next:"下一頁",first:"第一頁",last:"最後一頁","goto":"跳轉",pageOf:"第 <strong>{page}</strong> 頁",totalPage:"共 <strong>{totalPage}</strong> 頁",totalCount:"共 <strong>{recTotal}</strong> 項",pageSize:"每頁 <strong>{recPerPage}</strong> 項",itemsRange:"第 <strong>{start}</strong> ~ <strong>{end}</strong> 項",pageOfTotal:"第 <strong>{page}</strong>/<strong>{totalPage}</strong> 頁"},en:{pageOfText:"Page {0}",prev:"Prev",next:"Next",first:"First",last:"Last","goto":"Goto",pageOf:"Page <strong>{page}</strong>",totalPage:"<strong>{totalPage}</strong> pages",totalCount:"<strong>{recTotal}</strong> in total",pageSize:"<strong>{recPerPage}</strong> per page",itemsRange:"From <strong>{start}</strong> to <strong>{end}</strong>",pageOfTotal:"Page <strong>{page}</strong> of <strong>{totalPage}</strong>"}},s=function(e,o){var n=this;n.name=i,n.$=t(e),o=n.options=t.extend({},s.DEFAULTS,this.$.data(),o);var r=o.lang||t.zui.clientLang();n.lang=t.isPlainObject(r)?t.extend(!0,{},a[r.lang||t.zui.clientLang()],r):a[r],n.state={},n.set(o.page,o.recTotal,o.recPerPage,!0),n.$.on("click",".pager-goto-btn",function(){var e=t(this).closest(".pager-goto"),i=parseInt(e.find(".pager-goto-input").val());NaN!==i&&n.set(i)}).on("click",".pager-item",function(){var e=t(this).data("page");"number"==typeof e&&e>0&&n.set(e)}).on("click",".pager-size-menu [data-size]",function(){var e=t(this).data("size");"number"==typeof e&&e>0&&n.set(-1,-1,e)})};s.prototype.set=function(e,i,a,s){var n=this;"object"==typeof e&&null!==e&&(a=e.recPerPage,i=e.recTotal,e=e.page);var r=n.state;r||(r=t.extend({},o));var l=t.extend({},r);return"number"==typeof a&&a>0&&(r.recPerPage=a),"number"==typeof i&&i>=0&&(r.recTotal=i),"number"==typeof e&&e>=0&&(r.page=e),r.totalPage=r.recTotal&&r.recPerPage?Math.ceil(r.recTotal/r.recPerPage):1,r.page=Math.max(0,Math.min(r.page,r.totalPage)),r.pageRecCount=r.recTotal,r.page&&r.recTotal&&(r.page<r.totalPage?r.pageRecCount=r.recPerPage:r.page>1&&(r.pageRecCount=r.recTotal-r.recPerPage*(r.page-1))),r.skip=r.page>1?(r.page-1)*r.recPerPage:0,r.start=r.skip+1,r.end=r.skip+r.pageRecCount,r.prev=r.page>1?r.page-1:0,r.next=r.page<r.totalPage?r.page+1:0,n.state=r,s||l.page===r.page&&l.recTotal===r.recTotal&&l.recPerPage===r.recPerPage||n.$.callComEvent(n,"onPageChange",[r,l]),n.render()},s.prototype.createLinkItem=function(i,o,a){var s=this;o===e&&(o=i);var n=t('<a title="'+s.lang.pageOfText.format(i)+'" class="pager-item" data-page="'+i+'"/>').attr("href",i?s.createLink(i,s.state):"###").html(o);return a||(n=t("<li />").append(n).toggleClass("active",i===s.state.page).toggleClass("disabled",!i||i===s.state.page)),n},s.prototype.createNavItems=function(t){var i=this,o=i.$,a=i.state,s=a.totalPage,n=a.page,r=function(t,a){if(t===!1)return void o.append(i.createLinkItem(0,a||i.options.navEllipsisItem));a===e&&(a=t);for(var s=t;s<=a;++s)o.append(i.createLinkItem(s))};t===e&&(t=i.options.maxNavCount||10),r(1),s>1&&(s<=t?r(2,s):n<t-2?(r(2,t-2),r(!1),r(s)):n>s-t+2?(r(!1),r(s-t+2,s)):(r(!1),r(n-Math.ceil((t-4)/2),n+Math.floor((t-4)/2)),r(!1),r(s)))},s.prototype.createGoto=function(){var e=this,i=this.state,o=t('<div class="input-group pager-goto" style="width: '+(35+9*(i.page+"").length+25+12*e.lang["goto"].length)+'px"><input value="'+i.page+'" type="number" min="1" max="'+i.totalPage+'" placeholder="'+i.page+'" class="form-control pager-goto-input"><span class="input-group-btn"><button class="btn pager-goto-btn" type="button">'+e.lang["goto"]+"</button></span></div>");return o},s.prototype.createSizeMenu=function(){var e=this,i=this.state,o=t('<ul class="dropdown-menu"></ul>'),a=e.options.pageSizeOptions;"string"==typeof a&&(a=a.split(","));for(var s=0;s<a.length;++s){var n=a[s];"string"==typeof n&&(n=parseInt(n));var r=t('<li><a href="###" data-size="'+n+'">'+n+"</a></li>").toggleClass("active",n===i.recPerPage);o.append(r)}return t('<div class="btn-group pager-size-menu"><button type="button" class="btn dropdown-toggle" data-toggle="dropdown">'+e.lang.pageSize.format(i)+' <span class="caret"></span></button></div>').addClass(e.options.menuDirection).append(o)},s.prototype.createElement=function(e,i,o){var a=this,s=t.proxy(a.createLinkItem,a),n=a.lang;switch(e){case"prev":return s(o.prev,n.prev);case"prev_icon":return s(o.prev,'<i class="icon '+a.options.prevIcon+'"></i>');case"next":return s(o.next,n.next);case"next_icon":return s(o.next,'<i class="icon '+a.options.nextIcon+'"></i>');case"first":return s(1,n.first);case"first_icon":return s(1,'<i class="icon '+a.options.firstIcon+'"></i>');case"last":return s(o.totalPage,n.last);case"last_icon":return s(o.totalPage,'<i class="icon '+a.options.lastIcon+'"></i>');case"space":case"|":return t('<li class="space" />');case"nav":case"pages":return void a.createNavItems();case"total_text":return t(('<div class="pager-label">'+n.totalCount+"</div>").format(o));case"page_text":return t(('<div class="pager-label">'+n.pageOf+"</div>").format(o));case"total_page_text":return t(('<div class="pager-label">'+n.totalPage+"</div>").format(o));case"page_of_total_text":return t(('<div class="pager-label">'+n.pageOfTotal+"</div>").format(o));case"page_size_text":return t(('<div class="pager-label">'+n.pageSize+"</div>").format(o));case"items_range_text":return t(('<div class="pager-label">'+n.itemsRange+"</div>").format(o));case"goto":return a.createGoto();case"size_menu":return a.createSizeMenu();default:return t("<li/>").html(e.format(o))}},s.prototype.createLink=function(i,o){i===e&&(i=this.state.page),o===e&&(o=this.state);var a=this.options.linkCreator;return"string"==typeof a?a.format(t.extend({},o,{page:i})):t.isFunction(a)?a(i,o):"#page="+i},s.prototype.render=function(e){var i=this,o=i.state,a=i.options.elementCreator||i.createElement,s=t.isPlainObject(a);e=e||i.elements||i.options.elements,"string"==typeof e&&(e=e.split(",")),i.elements=e,i.$.empty();for(var n=0;n<e.length;++n){var r=t.trim(e[n]),l=s?a[r]||a:a,d=l.call(i,r,i.$,o);d===!1&&(d=i.createElement(r,i.$,o)),d instanceof t&&("LI"!==d[0].tagName&&(d=t("<li/>").append(d)),i.$.append(d))}var c=null;return i.$.children("li").each(function(){var e=t(this),i=!!e.children(".pager-item").length;c?c.toggleClass("pager-item-right",!i):i&&e.addClass("pager-item-left"),c=i?e:null}),c&&c.addClass("pager-item-right"),i.$.callComEvent(i,"onRender",[o]),i},s.DEFAULTS=t.extend({elements:["first_icon","prev_icon","pages","next_icon","last_icon","page_of_total_text","items_range_text","total_text"],prevIcon:"icon-double-angle-left",nextIcon:"icon-double-angle-right",firstIcon:"icon-step-backward",lastIcon:"icon-step-forward",navEllipsisItem:'<i class="icon icon-ellipsis-h"></i>',maxNavCount:10,menuDirection:"dropdown",pageSizeOptions:[10,20,30,50,100]},o),t.fn.pager=function(e){return this.each(function(){var o=t(this),a=o.data(i),n="object"==typeof e&&e;a||o.data(i,a=new s(this,n)),"string"==typeof e&&a[e]()})},s.NAME=i,t.fn.pager.Constructor=s,t(function(){t('[data-ride="pager"]').pager()})}(jQuery,void 0),+function(t){"use strict";var e="zui.tab",i=function(e){this.element=t(e)};i.prototype.show=function(){var i=this.element,o=i.closest("ul:not(.dropdown-menu)"),a=i.attr("data-target")||i.attr("data-tab");if(a||(a=i.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),!i.parent("li").hasClass("active")){var s=o.find(".active:last a")[0],n=t.Event("show."+e,{relatedTarget:s});if(i.trigger(n),!n.isDefaultPrevented()){var r=t(a);this.activate(i.parent("li"),o),this.activate(r,r.parent(),function(){i.trigger({type:"shown."+e,relatedTarget:s})})}}},i.prototype.activate=function(e,i,o){function a(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),n?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),o&&o()}var s=i.find("> .active"),n=o&&t.support.transition&&s.hasClass("fade");n?s.one(t.support.transition.end,a).emulateTransitionEnd(150):a(),s.removeClass("in")};var o=t.fn.tab;t.fn.tab=function(o){return this.each(function(){var a=t(this),s=a.data(e);s||a.data(e,s=new i(this)),"string"==typeof o&&s[o]()})},t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=o,this},t(document).on("click.zui.tab.data-api",'[data-toggle="tab"], [data-tab]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),function(t,e){"use strict";var i=1200,o=992,a=768,s=e(t),n=function(){var t=s.width();e("html").toggleClass("screen-desktop",t>=o&&t<i).toggleClass("screen-desktop-wide",t>=i).toggleClass("screen-tablet",t>=a&&t<o).toggleClass("screen-phone",t<a).toggleClass("device-mobile",t<o).toggleClass("device-desktop",t>=o)},r="",l=navigator.userAgent;l.match(/(iPad|iPhone|iPod)/i)?r+=" os-ios":l.match(/android/i)?r+=" os-android":l.match(/Win/i)?r+=" os-windows":l.match(/Mac/i)?r+=" os-mac":l.match(/Linux/i)?r+=" os-linux":l.match(/X11/i)&&(r+=" os-unix"),"ontouchstart"in document.documentElement&&(r+=" is-touchable"),e("html").addClass(r),s.resize(n),n()}(window,jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',i="zui.alert",o=function(i){t(i).on("click",e,this.close)};o.prototype.close=function(e){function o(){n.trigger("closed."+i).remove()}var a=t(this),s=a.attr("data-target");s||(s=a.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var n=t(s);e&&e.preventDefault(),n.length||(n=a.hasClass("alert")?a:a.parent()),n.trigger(e=t.Event("close."+i)),e.isDefaultPrevented()||(n.removeClass("in"),t.support.transition&&n.hasClass("fade")?n.one(t.support.transition.end,o).emulateTransitionEnd(150):o())};var a=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var a=t(this),s=a.data(i);s||a.data(i,s=new o(this)),"string"==typeof e&&s[e].call(a)})},t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=a,this},t(document).on("click."+i+".data-api",e,o.prototype.close)}(window.jQuery),+function(t){"use strict";var e="zui.collapse",i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var i=t.Event("show."+e);if(this.$element.trigger(i),!i.isDefaultPrevented()){var o=this.$parent&&this.$parent.find(".in");if(o&&o.length){var a=o.data(e);if(a&&a.transitioning)return;o.collapse("hide"),a||o.data(e,null)}var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0),this.transitioning=1;var n=function(){this.$element.removeClass("collapsing").addClass("in")[s]("auto"),this.transitioning=0,this.$element.trigger("shown."+e)};if(!t.support.transition)return n.call(this);var r=t.camelCase(["scroll",s].join("-"));this.$element.one(t.support.transition.end,t.proxy(n,this)).emulateTransitionEnd(350)[s](this.$element[0][r])}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var i=t.Event("hide."+e);if(this.$element.trigger(i),!i.isDefaultPrevented()){var o=this.dimension();this.$element[o](this.$element[o]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.trigger("hidden."+e).removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[o](0).one(t.support.transition.end,t.proxy(a,this)).emulateTransitionEnd(350):a.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var o=t.fn.collapse;t.fn.collapse=function(o){return this.each(function(){var a=t(this),s=a.data(e),n=t.extend({},i.DEFAULTS,a.data(),"object"==typeof o&&o);s||a.data(e,s=new i(this,n)),"string"==typeof o&&s[o]()})},t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click."+e+".data-api","[data-toggle=collapse]",function(i){var o,a=t(this),s=a.attr("data-target")||i.preventDefault()||(o=a.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""),n=t(s),r=n.data(e),l=r?"toggle":a.data(),d=a.attr("data-parent"),c=d&&t(d);r&&r.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+d+'"]').not(a).addClass("collapsed"),a[n.hasClass("in")?"addClass":"removeClass"]("collapsed")),n.collapse(l)})}(window.jQuery),+function(t){"use strict";function e(){t(a).remove(),t(s).each(function(e){var a=i(t(this));a.hasClass("open")&&(a.trigger(e=t.Event("hide."+o)),e.isDefaultPrevented()||a.removeClass("open").trigger("hidden."+o))})}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o;try{o=i&&t(i)}catch(a){}return o&&o.length?o:e.parent()}var o="zui.dropdown",a=".dropdown-backdrop",s="[data-toggle=dropdown]",n=function(e){t(e).on("click."+o,this.toggle)};n.prototype.toggle=function(a){var s=t(this);if(!s.is(".disabled, :disabled")){var n=i(s),r=n.hasClass("open");if(e(),!r){if("ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),n.trigger(a=t.Event("show."+o)),a.isDefaultPrevented())return;n.toggleClass("open").trigger("shown."+o),s.focus()}return!1}},n.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var o=t(this);if(e.preventDefault(),e.stopPropagation(),!o.is(".disabled, :disabled")){var a=i(o),n=a.hasClass("open");if(!n||n&&27==e.keyCode)return 27==e.which&&a.find(s).focus(),o.click();var r=t("[role=menu] li:not(.divider):visible a",a);if(r.length){var l=r.index(r.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<r.length-1&&l++,~l||(l=0),r.eq(l).focus()}}}};var r=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),o=i.data("dropdown");o||i.data("dropdown",o=new n(this)),"string"==typeof e&&o[e].call(i)})},t.fn.dropdown.Constructor=n,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this};var l=o+".data-api";t(document).on("click."+l,e).on("click."+l,".dropdown form",function(t){t.stopPropagation()}).on("click."+l,s,n.prototype.toggle).on("keydown."+l,s+", [role=menu]",n.prototype.keydown)}(window.jQuery),+function(t,e){"use strict";function i(e,i,s){return this.each(function(){var n=t(this),r=n.data(o),l=t.extend({},a.DEFAULTS,n.data(),"object"==typeof e&&e);r||n.data(o,r=new a(this,l)),"string"==typeof e?r[e](i,s):l.show&&r.show(i,s)})}var o="zui.modal",a=function(i,a){var s=this;s.options=a,s.$body=t(document.body),s.$element=t(i),s.$backdrop=s.isShown=null,s.scrollbarWidth=0,a.moveable===e&&(s.options.moveable=s.$element.hasClass("modal-moveable")),a.remote&&s.$element.find(".modal-content").load(a.remote,function(){s.$element.trigger("loaded."+o)})};a.VERSION="3.2.0",a.TRANSITION_DURATION=300,a.BACKDROP_TRANSITION_DURATION=150,a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0,position:"fit"};var s=function(e,i){var o=t(window);i.left=Math.max(0,Math.min(i.left,o.width()-e.outerWidth())),i.top=Math.max(0,Math.min(i.top,o.height()-e.outerHeight())),e.css(i)};a.prototype.toggle=function(t,e){return this.isShown?this.hide():this.show(t,e)},a.prototype.ajustPosition=function(i){var a=this,n=a.options;if(i===e&&(i=n.position),i!==e&&null!==i){t.isFunction(i)&&(i=i(a));var r=a.$element.find(".modal-dialog"),l=t(window).height(),d={maxHeight:"initial",overflow:"visible"},c=r.find(".modal-body").css(d);if(n.scrollInside){var h=n.headerHeight;"number"!=typeof h?h=r.find(".modal-header").height():t.isFunction(h)&&(h=h($header)),d.maxHeight=l-h,c.outerHeight()>d.maxHeight&&(d.overflow="auto")}c.css(d);var p=Math.max(0,(l-r.outerHeight())/2);if("fit"===i?i={top:p>50?Math.floor(2*p/3):p}:"center"===i?i={top:p}:t.isPlainObject(i)||(i={top:i}),r.hasClass("modal-moveable")){var f=null,u=n.rememberPos;u&&(u===!0?f=a.$element.data("modal-pos"):t.zui.store&&(f=t.zui.store.pageGet(o+".rememberPos."+u))),i=t.extend(i,{left:Math.max(0,(t(window).width()-r.outerWidth())/2)},f),"inside"===n.moveable?s(r,i):r.css(i)}else r.css(i)}},a.prototype.setMoveale=function(){t.fn.draggable||console.error("Moveable modal requires draggable.js.");var e=this,i=e.options,a=e.$element.find(".modal-dialog").removeClass("modal-dragged");a.toggleClass("modal-moveable",!!i.moveable),e.$element.data("modal-moveable-setup")||a.draggable({container:e.$element,handle:".modal-header",before:function(){var t=a.css("margin-top");t&&"0px"!==t&&a.css("top",t).css("margin-top","").addClass("modal-dragged")},finish:function(a){var s=i.rememberPos;s&&(e.$element.data("modal-pos",a.pos),t.zui.store&&s!==!0&&t.zui.store.pageSet(o+".rememberPos."+s,a.pos))},move:"inside"!==i.moveable||function(t){s(a,t)}})},a.prototype.show=function(e,i){var s=this,n=t.Event("show."+o,{relatedTarget:e});s.$element.trigger(n),s.$element.toggleClass("modal-scroll-inside",!!s.options.scrollInside),s.isShown||n.isDefaultPrevented()||(s.isShown=!0,s.options.moveable&&s.setMoveale(),s.checkScrollbar(),s.options.backdrop!==!1&&(s.$body.addClass("modal-open"),s.setScrollbar()),s.escape(),s.$element.on("click.dismiss."+o,'[data-dismiss="modal"]',function(t){s.hide(),t.stopPropagation()}),s.backdrop(function(){var n=t.support.transition&&s.$element.hasClass("fade");s.$element.parent().length||s.$element.appendTo(s.$body),s.$element.show().scrollTop(0),n&&s.$element[0].offsetWidth,s.$element.addClass("in").attr("aria-hidden",!1),s.ajustPosition(i),s.enforceFocus();var r=t.Event("shown."+o,{relatedTarget:e});n?s.$element.find(".modal-dialog").one("bsTransitionEnd",function(){s.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(a.TRANSITION_DURATION):s.$element.trigger("focus").trigger(r)}))},a.prototype.hide=function(e){e&&e.preventDefault&&e.preventDefault();var i=this;e=t.Event("hide."+o),i.$element.trigger(e),i.isShown&&!e.isDefaultPrevented()&&(i.isShown=!1,i.options.backdrop!==!1&&(i.$body.removeClass("modal-open"),i.resetScrollbar()),i.escape(),t(document).off("focusin."+o),i.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss."+o),t.support.transition&&i.$element.hasClass("fade")?i.$element.one("bsTransitionEnd",t.proxy(i.hideModal,i)).emulateTransitionEnd(a.TRANSITION_DURATION):i.hideModal())},a.prototype.enforceFocus=function(){t(document).off("focusin."+o).on("focusin."+o,t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?t(document).on("keydown.dismiss."+o,t.proxy(function(i){if(27==i.which){var a=t.Event("escaping."+o),s=this.$element.triggerHandler(a,"esc");if(s!=e&&!s)return;this.hide()}},this)):this.isShown||t(document).off("keydown.dismiss."+o)},a.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden."+o)})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(e){var i=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&s;if(this.$backdrop=t('<div class="modal-backdrop '+s+'" />').appendTo(this.$body),this.$element.on("mousedown.dismiss."+o,t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):r()}else e&&e()},a.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},a.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},a.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},a.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=i,t.fn.modal.Constructor=a,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click."+o+".data-api",'[data-toggle="modal"]',function(e){var a=t(this),s=a.attr("href"),n=null;try{n=t(a.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,""))}catch(r){return}if(n.length){var l=n.data(o)?"toggle":t.extend({remote:!/#/.test(s)&&s},n.data(),a.data());a.is("a")&&e.preventDefault(),n.one("show."+o,function(t){t.isDefaultPrevented()||n.one("hidden."+o,function(){a.is(":visible")&&a.trigger("focus")})}),i.call(n,l,this,a.data("position"))}})}(jQuery,void 0),function(t,e,i){"use strict";if(!t.fn.modal)throw new Error("Modal trigger requires modal.js");var o="zui.modaltrigger",a="ajax",s=".zui.modal",n="string",r=function(e,i){e=t.extend({},r.DEFAULTS,t.ModalTriggerDefaults,i?i.data():null,e),this.isShown,this.$trigger=i,this.options=e,this.id=t.zui.uuid()};r.DEFAULTS={type:"custom",height:"auto",name:"triggerModal",fade:!0,position:"fit",showHeader:!0,delay:0,backdrop:!0,keyboard:!0,waittime:0,loadingIcon:"icon-spinner-indicator",scrollInside:!1},r.prototype.init=function(i){var r=this;if(i.url&&(!i.type||i.type!=a&&"iframe"!=i.type)&&(i.type=a),i.remote)i.type=a,typeof i.remote===n&&(i.url=i.remote);else if(i.iframe)i.type="iframe",typeof i.iframe===n&&(i.url=i.iframe);else if(i.custom&&(i.type="custom",typeof i.custom===n)){var l;try{l=t(i.custom)}catch(d){}l&&l.length?i.custom=l:t.isFunction(e[i.custom])&&(i.custom=e[i.custom])}var c=t("#"+i.name);c.length&&(r.isShown||c.off(s),c.remove()),c=t('<div id="'+i.name+'" class="modal modal-trigger '+(i.className||"")+'">'+("string"==typeof i.loadingIcon&&0===i.loadingIcon.indexOf("icon-")?'<div class="icon icon-spin loader '+i.loadingIcon+'"></div>':i.loadingIcon)+'<div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button class="close" data-dismiss="modal">×</button><h4 class="modal-title"><i class="modal-icon"></i> <span class="modal-title-name"></span></h4></div><div class="modal-body"></div></div></div></div>').appendTo("body").data(o,r);var h=function(e,o){var a=i[e];t.isFunction(a)&&c.on(o+s,a)};h("onShow","show"),h("shown","shown"),h("onHide","hide"),h("hidden","hidden"),h("loaded","loaded"),c.on("shown"+s,function(){r.isShown=!0}).on("hidden"+s,function(){r.isShown=!1}),this.$modal=c,this.$dialog=c.find(".modal-dialog"),i.mergeOptions&&(this.options=i)},r.prototype.show=function(i){var s=t.extend({},this.options,{url:this.$trigger?this.$trigger.attr("href")||this.$trigger.attr("data-url")||this.$trigger.data("url"):this.options.url},i);this.init(s);var r=this,l=this.$modal,d=this.$dialog,c=s.custom,h=d.find(".modal-body").css("padding",""),p=d.find(".modal-header"),f=d.find(".modal-content");l.toggleClass("fade",s.fade).addClass(s.className).toggleClass("modal-loading",!this.isShown).toggleClass("modal-scroll-inside",!!s.scrollInside),d.toggleClass("modal-md","md"===s.size).toggleClass("modal-sm","sm"===s.size).toggleClass("modal-lg","lg"===s.size).toggleClass("modal-fullscreen","fullscreen"===s.size),p.toggle(s.showHeader),p.find(".modal-icon").attr("class","modal-icon icon-"+s.icon),p.find(".modal-title-name").text(s.title||""),s.size&&"fullscreen"===s.size&&(s.width="",s.height="");var u=function(){clearTimeout(this.resizeTask),this.resizeTask=setTimeout(function(){r.ajustPosition(s.position)},100)},g=function(t,e){return"undefined"==typeof t&&(t=s.delay),setTimeout(function(){d=l.find(".modal-dialog"),s.width&&"auto"!=s.width&&d.css("width",s.width),s.height&&"auto"!=s.height&&(d.css("height",s.height),"iframe"===s.type&&h.css("height",d.height()-p.outerHeight())),r.ajustPosition(s.position),l.removeClass("modal-loading"),"iframe"!=s.type&&d.off("resize."+o).on("resize."+o,u),e&&e()},t)};if("custom"===s.type&&c)if(t.isFunction(c)){var m=c({modal:l,options:s,modalTrigger:r,ready:g});typeof m===n&&(h.html(m),g())}else c instanceof t?(h.html(t("<div>").append(c.clone()).html()),g()):(h.html(c),g());else if(s.url){var v=function(){var t=l.callComEvent(r,"broken");t&&(h.html(t),g())};if(l.attr("ref",s.url),"iframe"===s.type){l.addClass("modal-iframe"),this.firstLoad=!0;var b="iframe-"+s.name;p.detach(),h.detach(),f.empty().append(p).append(h),h.css("padding",0).html('<iframe id="'+b+'" name="'+b+'" src="'+s.url+'" frameborder="no"  allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"  allowtransparency="true" scrolling="auto" style="width: 100%; height: 100%; left: 0px;"></iframe>'),s.waittime>0&&(r.waitTimeout=g(s.waittime,v));var _=document.getElementById(b);_.onload=_.onreadystatechange=function(){var i=!!s.scrollInside;if(r.firstLoad&&l.addClass("modal-loading"),!this.readyState||"complete"==this.readyState){r.firstLoad=!1,s.waittime>0&&clearTimeout(r.waitTimeout);try{l.attr("ref",_.contentWindow.location.href);var a=e.frames[b].$;if(a&&"auto"===s.height&&"fullscreen"!=s.size){var n=a("body").addClass("body-modal").toggleClass("body-modal-scroll-inside",i);s.iframeBodyClass&&n.addClass(s.iframeBodyClass);var d=[],c=function(o){l.removeClass("fade");var a=n.outerHeight();if(o===!0&&s.onlyIncreaseHeight&&(a=Math.max(a,h.data("minModalHeight")||0),h.data("minModalHeight",a)),i){var r=s.headerHeight;"number"!=typeof r?r=p.height():t.isFunction(r)&&(r=r(p));var c=t(e).height();a=Math.min(a,c-r)}for(d.length>1&&a===d[0]&&(a=Math.max(a,d[1])),d.push(a);d.length>2;)d.shift();h.css("height",a),s.fade&&l.addClass("fade"),g()};l.callComEvent(r,"loaded",{modalType:"iframe",jQuery:a}),setTimeout(c,100),n.off("resize."+o).on("resize."+o,c),i&&t(e).off("resize."+o).on("resize."+o,c)}else g()}catch(f){g()}}}}else t.ajax(t.extend({url:s.url,success:function(i){try{var o=t(i);o.filter(".modal-dialog").length?d.replaceWith(o):o.filter(".modal-content").length?d.find(".modal-content").replaceWith(o):h.wrapInner(o)}catch(s){e.console&&e.console.warn&&console.warn("ZUI: Cannot recogernize remote content.",{error:s,data:i}),l.html(i)}l.callComEvent(r,"loaded",{modalType:a}),g()},error:v},s.ajaxOptions))}l.modal({show:"show",backdrop:s.backdrop,moveable:s.moveable,rememberPos:s.rememberPos,keyboard:s.keyboard,scrollInside:s.scrollInside})},r.prototype.close=function(i,o){var a=this;(i||o)&&a.$modal.on("hidden"+s,function(){t.isFunction(i)&&i(),typeof o===n&&o.length&&!a.$modal.data("cancel-reload")&&("this"===o?e.location.reload():e.location=o)}),a.$modal.modal("hide")},r.prototype.toggle=function(t){this.isShown?this.close():this.show(t)},r.prototype.ajustPosition=function(e){e=e===i?this.options.position:e,t.isFunction(e)&&(e=e(this)),this.$modal.modal("ajustPosition",e)},t.zui({ModalTrigger:r,modalTrigger:new r}),t.fn.modalTrigger=function(e,i){return t(this).each(function(){var a=t(this),s=a.data(o),l=t.extend({title:a.attr("title")||a.text(),url:a.attr("href"),type:a.hasClass("iframe")?"iframe":""},a.data(),t.isPlainObject(e)&&e);s||a.data(o,s=new r(l,a)),typeof e==n?s[e](i):l.show&&s.show(i),a.on((l.trigger||"click")+".toggle."+o,function(e){l=t.extend(l,{url:a.attr("href")||a.attr("data-url")||a.data("url")||l.url}),s.toggle(l),a.is("a")&&e.preventDefault()})})};var l=t.fn.modal;t.fn.modal=function(e,i){return t(this).each(function(){var o=t(this);o.hasClass("modal")?l.call(o,e,i):o.modalTrigger(e,i)})},t.fn.modal.bs=l;var d=function(e){return e=t(e?e:".modal.modal-trigger"),e&&e instanceof t?e:null},c=function(i,a,s){var n=i;if(t.isFunction(i)){var r=s;s=a,a=i,i=r}i=d(i),
i&&i.length?i.each(function(){t(this).data(o).close(a,s)}):t("body").hasClass("modal-open")||t(".modal.in").length||t("body").hasClass("body-modal")&&e.parent.$.zui.closeModal(n,a,s)},h=function(t,e){e=d(e),e&&e.length&&e.modal("ajustPosition",t)};t.zui({closeModal:c,ajustModalPosition:h}),t(document).on("click."+o+".data-api",'[data-toggle="modal"]',function(e){var i=t(this),a=i.attr("href"),s=null;try{s=t(i.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,""))}catch(n){}s&&s.length||(i.data(o)?i.trigger(".toggle."+o):i.modalTrigger({show:!0})),i.is("a")&&e.preventDefault()}).on("click."+o+".data-api",'[data-dismiss="modal"]',function(){t.zui.closeModal()})}(window.jQuery,window,void 0),+function(t){"use strict";var e=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,o){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o);for(var a=this.options.trigger.split(" "),s=a.length;s--;){var n=a[s];if("click"==n)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=n){var r="hover"==n?"mouseenter":"focus",l="hover"==n?"mouseleave":"blur";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("zui."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("zui."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},e.prototype.show=function(e){var i=t.Event("show.zui."+this.type);if((e||this.hasContent())&&this.enabled){var o=this;if(o.$element.trigger(i),i.isDefaultPrevented())return;var a=o.tip();o.setContent(e),o.options.animation&&a.addClass("fade");var s="function"==typeof o.options.placement?o.options.placement.call(o,a[0],o.$element[0]):o.options.placement,n=/\s?auto?\s?/i,r=n.test(s);r&&(s=s.replace(n,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(s),o.options.container?a.appendTo(o.options.container):a.insertAfter(o.$element);var l=o.getPosition(),d=a[0].offsetWidth,c=a[0].offsetHeight;if(r){var h=o.$element.parent(),p=s,f=document.documentElement.scrollTop||document.body.scrollTop,u="body"==o.options.container?window.innerWidth:h.outerWidth(),g="body"==o.options.container?window.innerHeight:h.outerHeight(),m="body"==o.options.container?0:h.offset().left;s="bottom"==s&&l.top+l.height+c-f>g?"top":"top"==s&&l.top-f-c<0?"bottom":"right"==s&&l.right+d>u?"left":"left"==s&&l.left-d<m?"right":s,a.removeClass(p).addClass(s)}var v=o.getCalculatedOffset(s,l,d,c);o.applyPlacement(v,s);var b=function(){var t=o.hoverState;o.$element.trigger("shown.zui."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&o.$tip.hasClass("fade")?a.one("bsTransitionEnd",b).emulateTransitionEnd(150):b()}},e.prototype.applyPlacement=function(t,e){var i,o=this.tip(),a=o[0].offsetWidth,s=o[0].offsetHeight,n=parseInt(o.css("margin-top"),10),r=parseInt(o.css("margin-left"),10);isNaN(n)&&(n=0),isNaN(r)&&(r=0),t.top=t.top+n,t.left=t.left+r,o.offset(t).addClass("in");var l=o[0].offsetWidth,d=o[0].offsetHeight;if("top"==e&&d!=s&&(i=!0,t.top=t.top+s-d),/bottom|top/.test(e)){var c=0;t.left<0&&(c=t.left*-2,t.left=0,o.offset(t),l=o[0].offsetWidth,d=o[0].offsetHeight),this.replaceArrow(c-a+l,l,"left")}else this.replaceArrow(d-s,d,"top");i&&o.offset(t)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(t){var e=this.tip(),i=t||this.getTitle();this.options.tipId&&e.attr("id",this.options.tipId),this.options.tipClass&&e.addClass(this.options.tipClass),e.find(".tooltip-inner")[this.options.html?"html":"text"](i),e.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=i.hoverState&&o.detach()}var i=this,o=this.tip(),a=t.Event("hide.zui."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return o.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?o.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.zui."+this.type),this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("zui."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("zui."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i,o){return this.each(function(){var a=t(this),s=a.data("zui.tooltip"),n="object"==typeof i&&i;s||a.data("zui.tooltip",s=new e(this,n)),"string"==typeof i&&s[i](o)})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(window.jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTarget();if(e)return e.find(".arrow").length<1&&t.addClass("no-arrow"),void t.html(e.html());var i=this.getTitle(),o=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](i),t.find(".popover-content")[this.options.html?"html":"text"](o),t.removeClass("fade top bottom left right in"),this.options.tipId&&t.attr("id",this.options.tipId),this.options.tipClass&&t.addClass(this.options.tipClass),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTarget()||this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.getTarget=function(){var e=this.$element,i=this.options,o=e.attr("data-target")||("function"==typeof i.target?i.target.call(e[0]):i.target);return!!o&&("$next"==o?e.next(".popover"):t(o))},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var o=t(this),a=o.data("zui.popover"),s="object"==typeof i&&i;a||o.data("zui.popover",a=new e(this,s)),"string"==typeof i&&a[i]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(window.jQuery),/*! TangBin: image.ready.js http://www.planeart.cn/?p=1121 */
function(t){"use strict";t.zui.imgReady=function(){var t=[],e=null,i=function(){for(var e=0;e<t.length;e++)t[e].end?t.splice(e--,1):t[e]();!t.length&&o()},o=function(){clearInterval(e),e=null};return function(o,a,s,n){var r,l,d,c,h,p=new Image;return p.src=o,p.complete?(a.call(p),void(s&&s.call(p))):(l=p.width,d=p.height,p.onerror=function(){n&&n.call(p),r.end=!0,p=p.onload=p.onerror=null},r=function(){c=p.width,h=p.height,(c!==l||h!==d||c*h>1024)&&(a.call(p),r.end=!0)},r(),p.onload=function(){!r.end&&r(),s&&s.call(p),p=p.onload=p.onerror=null},void(r.end||(t.push(r),null===e&&(e=setInterval(i,40)))))}}()}(jQuery),function(t,e,i){"use strict";if(!t.fn.modalTrigger)throw new Error("modal & modalTrigger requires for lightbox");if(!t.zui.imgReady)throw new Error("imgReady requires for lightbox");var o=function(e,i){this.$=t(e),this.options=this.getOptions(i),this.init()};o.DEFAULTS={modalTeamplate:'<div class="icon-spinner icon-spin loader"></div><div class="modal-dialog"><button class="close" data-dismiss="modal" aria-hidden="true"><i class="icon-remove"></i></button><button class="controller prev"><i class="icon icon-chevron-left"></i></button><button class="controller next"><i class="icon icon-chevron-right"></i></button><img class="lightbox-img" src="{image}" alt="" data-dismiss="modal" /><div class="caption"><div class="content">{caption}<div></div></div>'},o.prototype.getOptions=function(e){var i="image";return e=t.extend({},o.DEFAULTS,this.$.data(),e),e[i]||(e[i]=this.$.attr("src")||this.$.attr("href")||this.$.find("img").attr("src"),this.$.data(i,e[i])),e},o.prototype.init=function(){this.bindEvents()},o.prototype.initGroups=function(){var e=this.$.data("groups");e||(e=t('[data-toggle="lightbox"][data-group="'+this.options.group+'"], [data-lightbox-group="'+this.options.group+'"]'),this.$.data("groups",e),e.each(function(e){t(this).attr("data-group-index",e)})),this.groups=e,this.groupIndex=parseInt(this.$.data("group-index"))},o.prototype.setImage=function(t,e){void 0!==t&&(this.options.image=t),void 0!==e&&(this.options.caption=e)},o.prototype.show=function(t,e){this.setImage(t,e),this.$.triggerHandler("click")},o.prototype.bindEvents=function(){var o=this.$,a=this,s=this.options;return!!s.image&&void o.modalTrigger({type:"custom",name:"lightboxModal",position:"center",custom:function(o){a.initGroups();var n=o.modal,r=a.groups,l=a.groupIndex;n.addClass("modal-lightbox").html(s.modalTeamplate.format(s)).toggleClass("lightbox-with-caption","string"==typeof s.caption).removeClass("lightbox-full").data("group-index",l);var d=n.find(".modal-dialog"),c=t(e).width();t.zui.imgReady(s.image,function(){d.css({width:i.min(c,this.width)}),c<this.width+30&&n.addClass("lightbox-full"),o.ready(200)}),n.find(".prev").toggleClass("show",r.filter('[data-group-index="'+(l-1)+'"]').length>0),n.find(".next").toggleClass("show",r.filter('[data-group-index="'+(l+1)+'"]').length>0),n.find(".controller").click(function(){var a=t(this),s=n.data("group-index")+(a.hasClass("prev")?-1:1),l=r.filter('[data-group-index="'+s+'"]');if(l.length){var h=l.data("image"),p=l.data("caption");n.addClass("modal-loading").data("group-index",s).toggleClass("lightbox-with-caption","string"==typeof p).removeClass("lightbox-full"),n.find(".lightbox-img").attr("src",h),n.find(".caption > .content").text(p),c=t(e).width(),t.zui.imgReady(h,function(){d.css({width:i.min(c,this.width)}),c<this.width+30&&n.addClass("lightbox-full"),o.ready()})}return n.find(".prev").toggleClass("show",r.filter('[data-group-index="'+(s-1)+'"]').length>0),n.find(".next").toggleClass("show",r.filter('[data-group-index="'+(s+1)+'"]').length>0),!1})}})},t.fn.lightbox=function(e){var i="group"+(new Date).getTime();return this.each(function(){var a=t(this),s="object"==typeof e&&e;"object"==typeof s&&s.group?a.attr("data-lightbox-group",s.group):a.data("group")?a.attr("data-lightbox-group",a.data("group")):a.attr("data-lightbox-group",i),a.data("group",a.data("lightbox-group"));var n=a.data("zui.lightbox");n||a.data("zui.lightbox",n=new o(this,s)),"string"==typeof e&&n[e]()})},t.fn.lightbox.Constructor=o,t(function(){t('[data-toggle="lightbox"]').lightbox()})}(jQuery,window,Math),/*! bootbox.js v4.4.0 http://bootboxjs.com/license.txt */
function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function t(e,i){"use strict";function o(t){var e=m[u.locale];return e?e[t]:m.en[t]}function a(t,i,o){t.stopPropagation(),t.preventDefault();var a=e.isFunction(o)&&o.call(i,t)===!1;a||i.modal("hide")}function s(t){var e,i=0;for(e in t)i++;return i}function n(t,i){var o=0;e.each(t,function(t,e){i(t,e,o++)})}function r(t){var i,o;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=e.extend({},u,t),t.buttons||(t.buttons={}),i=t.buttons,o=s(i),n(i,function(t,a,s){if(e.isFunction(a)&&(a=i[t]={callback:a}),"object"!==e.type(a))throw new Error("button with key "+t+" must be an object");a.label||(a.label=t),a.className||(2===o&&("ok"===t||"confirm"===t)||1===o?a.className="btn-primary":a.className="btn-default")}),t}function l(t,e){var i=t.length,o={};if(i<1||i>2)throw new Error("Invalid argument length");return 2===i||"string"==typeof t[0]?(o[e[0]]=t[0],o[e[1]]=t[1]):o=t[0],o}function d(t,i,o){return e.extend(!0,{},t,l(i,o))}function c(t,e,i,o){var a={className:"bootbox-"+t,buttons:h.apply(null,e)};return p(d(a,o,i),e)}function h(){for(var t={},e=0,i=arguments.length;e<i;e++){var a=arguments[e],s=a.toLowerCase(),n=a.toUpperCase();t[s]={label:o(n)}}return t}function p(t,e){var o={};return n(e,function(t,e){o[e]=!0}),n(t.buttons,function(t){if(o[t]===i)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var f={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},u={locale:e.zui&&e.zui.clientLang?e.zui.clientLang():"zh_cn",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},g={};g.alert=function(){var t;if(t=c("alert",["ok"],["message","callback"],arguments),t.callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!e.isFunction(t.callback)||t.callback.call(this)},g.dialog(t)},g.confirm=function(){var t;if(t=c("confirm",["confirm","cancel"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return g.dialog(t)},g.prompt=function(){var t,o,a,s,r,l,c;if(s=e(f.form),o={className:"bootbox-prompt",buttons:h("cancel","confirm"),value:"",inputType:"text"},t=p(d(o,arguments,["title","callback"]),["confirm","cancel"]),l=t.show===i||t.show,t.message=s,t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,null)},t.buttons.confirm.callback=function(){var i;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":i=r.val();break;case"checkbox":var o=r.find("input:checked");i=[],n(o,function(t,o){i.push(e(o).val())})}return t.callback.call(this,i)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!f.inputs[t.inputType])throw new Error("invalid prompt type");switch(r=e(f.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":r.val(t.value);break;case"select":var u={};if(c=t.inputOptions||[],!e.isArray(c))throw new Error("Please pass an array of input options");if(!c.length)throw new Error("prompt with select requires options");n(c,function(t,o){var a=r;if(o.value===i||o.text===i)throw new Error("given options in wrong format");o.group&&(u[o.group]||(u[o.group]=e("<optgroup/>").attr("label",o.group)),a=u[o.group]),a.append("<option value='"+o.value+"'>"+o.text+"</option>")}),n(u,function(t,e){r.append(e)}),r.val(t.value);break;case"checkbox":var m=e.isArray(t.value)?t.value:[t.value];if(c=t.inputOptions||[],!c.length)throw new Error("prompt with checkbox requires options");if(!c[0].value||!c[0].text)throw new Error("given options in wrong format");r=e("<div/>"),n(c,function(i,o){var a=e(f.inputs[t.inputType]);a.find("input").attr("value",o.value),a.find("label").append(o.text),n(m,function(t,e){e===o.value&&a.find("input").prop("checked",!0)}),r.append(a)})}return t.placeholder&&r.attr("placeholder",t.placeholder),t.pattern&&r.attr("pattern",t.pattern),t.maxlength&&r.attr("maxlength",t.maxlength),s.append(r),s.on("submit",function(t){t.preventDefault(),t.stopPropagation(),a.find(".btn-primary").click()}),a=g.dialog(t),a.off("shown.zui.modal"),a.on("shown.zui.modal",function(){r.focus()}),l===!0&&a.modal("show"),a},g.dialog=function(t){t=r(t);var o=e(f.dialog),s=o.find(".modal-dialog"),l=o.find(".modal-body"),d=t.buttons,c="",h={onEscape:t.onEscape};if(e.fn.modal===i)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(n(d,function(t,e){c+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",h[t]=e.callback}),l.find(".bootbox-body").html(t.message),t.animate===!0&&o.addClass("fade"),t.className&&o.addClass(t.className),"large"===t.size?s.addClass("modal-lg"):"small"===t.size&&s.addClass("modal-sm"),t.title&&l.before(f.header),t.closeButton){var p=e(f.closeButton);t.title?o.find(".modal-header").prepend(p):p.css("margin-top","-10px").prependTo(l)}return t.title&&o.find(".modal-title").html(t.title),c.length&&(l.after(f.footer),o.find(".modal-footer").html(c)),o.on("hidden.zui.modal",function(t){t.target===this&&o.remove()}),o.on("shown.zui.modal",function(){o.find(".btn-primary:first").focus()}),"static"!==t.backdrop&&o.on("click.dismiss.zui.modal",function(t){o.children(".modal-backdrop").length&&(t.currentTarget=o.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&o.trigger("escape.close.bb")}),o.on("escape.close.bb",function(t){h.onEscape&&a(t,o,h.onEscape)}),o.on("click",".modal-footer button",function(t){var i=e(this).data("bb-handler");a(t,o,h[i])}),o.on("click",".bootbox-close-button",function(t){a(t,o,h.onEscape)}),o.on("keyup",function(t){27===t.which&&o.trigger("escape.close.bb")}),e(t.container).append(o),o.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&o.modal("show"),o},g.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(u,t)},g.hideAll=function(){return e(".bootbox").modal("hide"),g};var m={en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},zh_cn:{OK:"确认",CANCEL:"取消",CONFIRM:"确认"},zh_tw:{OK:"確認",CANCEL:"取消",CONFIRM:"確認"}};return g.addLocale=function(t,i){return e.each(["OK","CANCEL","CONFIRM"],function(t,e){if(!i[e])throw new Error("Please supply a translation for '"+e+"'")}),m[t]={OK:i.OK,CANCEL:i.CANCEL,CONFIRM:i.CONFIRM},g},g.removeLocale=function(t){return delete m[t],g},g.setLocale=function(t){return g.setDefaults("locale",t)},g.init=function(i){return t(i||e)},g}),/*!
Chosen, a Select Box Enhancer for jQuery and Prototype
by Patrick Filler for Harvest, http://getharvest.com

Version 1.1.0
Full source at https://github.com/harvesthq/chosen
Copyright (c) 2011 Harvest http://getharvest.com

MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md
*/
function(){var t,e,i,o,a,s={}.hasOwnProperty,n=function(t,e){function i(){this.constructor=t}for(var o in e)s.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={zh_cn:{no_results_text:"没有找到"},zh_tw:{no_results_text:"沒有找到"},en:{no_results_text:"No results match"}};o=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},e.prototype.add_group=function(e){var i,o,a,s,n,r;for(i=this.parsed.length,this.parsed.push({array_index:i,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled,title:e.title,search_keys:t.trim(e.getAttribute("data-keys")||"").replace(/,/g," ")}),n=e.childNodes,r=[],a=0,s=n.length;a<s;a++)o=n[a],r.push(this.add_option(o,i,e.disabled));return r},e.prototype.add_option=function(e,i,o){if("OPTION"===e.nodeName.toUpperCase())return""!==e.text?(null!=i&&(this.parsed[i].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,title:e.title,html:e.innerHTML,selected:e.selected,disabled:o===!0?o:e.disabled,group_array_index:i,classes:e.className,style:e.style.cssText,data:e.getAttribute("data-data"),search_keys:(t.trim(e.getAttribute("data-keys")||"")+e.value).replace(/,/," ")})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},e.prototype.escapeExpression=function(t){var e,i;return null==t||t===!1?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(i,function(t){return e[t]||"&amp;"})):t},e}(),o.select_to_array=function(t){var e,i,a,s,n;for(i=new o,n=t.childNodes,a=0,s=n.length;a<s;a++)e=n[a],i.add_node(e);return i.parsed},e=function(){function e(i,o){this.form_field=i,this.options=null!=o?o:{},e.browser_is_supported()&&(this.lang=r[this.options.lang||(t.zui.clientLang?t.zui.clientLang():"zh_cn")],this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return e.prototype.set_default_values=function(){var t=this;this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.drop_direction=this.options.drop_direction||"auto",this.middle_highlight=this.options.middle_highlight,this.compact_search=this.options.compact_search||!1,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options;var e=this.options.max_drop_width;return"string"==typeof e&&e.indexOf("px")===e.length-2&&(e=parseInt(e.substring(0,e.length-2))),this.max_drop_width=e,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options},e.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||this.lang.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(t){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(t){var e=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return e.blur_test()},100)},e.prototype.results_option_build=function(t){var e,i,o,a,s;for(e="",s=this.results_data,o=0,a=s.length;o<a;o++)i=s[o],e+=i.group?this.result_add_group(i):this.result_add_option(i),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return e},e.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.style.cssText=t.style,i.title=t.title,i.setAttribute("data-option-array-index",t.array_index),i.setAttribute("data-data",t.data),i.innerHTML=t.search_text,this.outerHTML(i)):""},e.prototype.result_add_group=function(t){var e;return(t.search_match||t.group_match)&&t.active_options>0?(e=document.createElement("li"),e.className="group-result",e.title=t.title,e.innerHTML=t.search_text,this.outerHTML(e)):""},e.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},e.prototype.reset_single_select_options=function(){var t,e,i,o,a;for(o=this.results_data,a=[],e=0,i=o.length;e<i;e++)t=o[e],t.selected?a.push(t.selected=!1):a.push(void 0);return a},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(t){return this.results_showing?this.winnow_results(1):this.results_show()},e.prototype.winnow_results=function(t){var e,i,o,a,s,n,r,l,d,c,h,p,f;for(this.no_results_clear(),s=0,r=this.get_search_text(),e=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),a=this.search_contains?"":"^",o=new RegExp(a+e,"i"),c=new RegExp(e,"i"),f=this.results_data,h=0,p=f.length;h<p;h++)i=f[h],i.search_match=!1,n=null,this.include_option_in_results(i)&&(i.group&&(i.group_match=!1,i.active_options=0),null!=i.group_array_index&&this.results_data[i.group_array_index]&&(n=this.results_data[i.group_array_index],0===n.active_options&&n.search_match&&(s+=1),n.active_options+=1),i.group&&!this.group_search||(i.search_text=i.group?i.label:i.html,i.search_keys_match=this.search_string_match(i.search_keys,o),i.search_text_match=this.search_string_match(i.search_text,o),i.search_match=i.search_text_match||i.search_keys_match,i.search_match&&!i.group&&(s+=1),i.search_match?(i.search_text_match&&i.search_text.length?(l=i.search_text.search(c),d=i.search_text.substr(0,l+r.length)+"</em>"+i.search_text.substr(l+r.length),i.search_text=d.substr(0,l)+"<em>"+d.substr(l)):i.search_keys_match&&i.search_keys.length&&(l=i.search_keys.search(c),d=i.search_keys.substr(0,l+r.length)+"</em>"+i.search_keys.substr(l+r.length),i.search_text+='&nbsp; <small style="opacity: 0.7">'+d.substr(0,l)+"<em>"+d.substr(l)+"</small>"),null!=n&&(n.group_match=!0)):null!=i.group_array_index&&this.results_data[i.group_array_index].search_match&&(i.search_match=!0)));return this.result_clear_highlight(),s<1&&r.length?(this.update_results_content(""),this.no_results(r)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight(t))},e.prototype.search_string_match=function(t,e){var i,o,a,s;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(o=t.replace(/\[|\]/g,"").split(" "),o.length))for(a=0,s=o.length;a<s;a++)if(i=o[a],e.test(i))return!0},e.prototype.choices_count=function(){var t,e,i,o;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,o=this.form_field.options,e=0,i=o.length;e<i;e++)t=o[e],t.selected&&""!=t.value&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(t){if(t.preventDefault(),!this.results_showing&&!this.is_disabled)return this.results_show()},e.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(t){var e=this;return setTimeout(function(){return e.results_search()},50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field&&this.form_field.classList&&this.form_field.classList.contains("form-control")?"100%":""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},e.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},e.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},e.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},e.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:(e=document.createElement("div"),e.appendChild(t),e.innerHTML)},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!/iP(od|hone)/i.test(window.navigator.userAgent)&&(!/Android/i.test(window.navigator.userAgent)||!/Mobile/i.test(window.navigator.userAgent))},e.default_multiple_text="",e.default_single_text="",e.default_no_result_text="No results match",e}(),t=jQuery,t.fn.extend({chosen:function(o){return e.browser_is_supported()?this.each(function(e){var a,s;a=t(this),s=a.data("chosen"),"destroy"===o&&s?s.destroy():s||a.data("chosen",new i(this,o))}):this}}),i=function(e){function i(){return a=i.__super__.constructor.apply(this,arguments)}return n(i,e),i.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var e,i;e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl");var o=this.form_field.getAttribute("data-css-class");return o&&e.push(o),i={"class":e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):(this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div><div class="chosen-search"><input type="text" autocomplete="off" /></div></a><div class="chosen-drop"><ul class="chosen-results"></ul></div>'),this.compact_search?this.container.addClass("chosen-compact").find(".chosen-search").appendTo(this.container.find(".chosen-single")):this.container.find(".chosen-search").prependTo(this.container.find(".chosen-drop")),this.options.highlight_selected!==!1&&this.container.addClass("chosen-highlight-selected")),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.options.drop_width&&this.dropdown.css("width",this.options.drop_width).addClass("chosen-drop-size-limited"),this.max_drop_width&&this.dropdown.addClass("chosen-auto-max-width"),this.options.no_wrap&&this.dropdown.addClass("chosen-no-wrap"),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var t=this;return this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},i.prototype.destroy=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(e){if(!this.is_disabled&&(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null==e||!t(e.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()},i.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},i.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e=40*e),this.search_results.scrollTop(e+this.search_results.scrollTop())},i.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},i.prototype.close_field=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(e){var i;return i=t(e.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=o.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch"),this.container.removeClass("chosen-with-search")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"),this.container.addClass("chosen-with-search"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(t,e){var i,o,a,s,n,r,l=-1;t.length&&(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),a=parseInt(this.search_results.css("maxHeight"),10),r=this.result_highlight.outerHeight(),n=this.search_results.scrollTop(),s=a+n,o=this.result_highlight.position().top+this.search_results.scrollTop(),i=o+r,this.middle_highlight&&(e||"always"===this.middle_highlight)?l=Math.min(o-r,Math.max(0,o-(a-r)/2)):i>=s?l=i-a>0?i-a:0:o<n&&(l=o),l>-1?this.search_results.scrollTop(l):this.result_highlight.scrollIntoView&&this.result_highlight.scrollIntoView())},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){var e=this;if(e.is_multiple&&e.max_selected_options<=e.choices_count())return e.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1;e.results_showing=!0,e.search_field.focus(),e.search_field.val(e.search_field.val());var i=e.drop_direction;if(t.isFunction(i)&&(i=i.call(this)),"auto"===i)if(e.drop_directionFixed)i=e.drop_directionFixed;else{var o=e.container.find(".chosen-drop"),a=e.container.offset();a.top+o.outerHeight()+30>t(window).height()+t(window).scrollTop()&&(i="up"),e.drop_directionFixed=i}e.container.toggleClass("chosen-up","up"===i).addClass("chosen-with-drop"),e.winnow_results(1);var s=e.max_drop_width;if(s){var o=e.container.find(".chosen-drop").removeClass("in"),n=0,r=o.find(".chosen-results"),l=r.children("li"),d=parseFloat(r.css("padding-left").replace("px","")),c=parseFloat(r.css("padding-right").replace("px","")),h=(isNaN(d)?0:d)+(isNaN(c)?0:c);l.each(function(){n=Math.max(n,t(this).outerWidth())}),o.css("width",Math.min(n+h+4,s)),e.fixDropWidthTimer=setTimeout(function(){e.fixDropWidthTimer=null,o.addClass("in")},50)}return e.form_field_jq.trigger("chosen:showing_dropdown",{chosen:e})},i.prototype.update_results_content=function(t){return this.search_results.html(t)},i.prototype.results_hide=function(){var t=this;return t.fixDropWidthTimer&&(clearTimeout(t.fixDropWidthTimer),t.fixDropWidthTimer=null),t.results_showing&&(t.result_clear_highlight(),t.container.removeClass("chosen-with-drop"),t.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:t}),t.drop_directionFixed=0),t.results_showing=!1},i.prototype.set_tab_index=function(t){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},i.prototype.set_label_behavior=function(){var e=this;if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()})},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(e){var i;if(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length)return this.result_highlight=i,this.result_select(e),this.search_field.focus()},i.prototype.search_results_mouseover=function(e){var i;if(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first())return this.result_do_highlight(i)},i.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass("active-result"))return this.result_clear_highlight()},i.prototype.choice_build=function(e){var i,o,a=this;return i=t("<li />",{"class":"search-choice"}).html("<span title='"+e.html+"'>"+e.html+"</span>"),e.disabled?i.addClass("search-choice-disabled"):(o=t("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index}),o.bind("click.chosen",function(t){return a.choice_destroy_link_click(t)}),i.append(o)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(t(e.target))},i.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},i.prototype.results_reset=function(){var t=this.form_field_jq.val();this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup();var e=this.form_field_jq.val(),i={selected:e};if(t===e||e.length||(i.deselected=t),this.form_field_jq.trigger("change",i),this.active_field)return this.results_hide()},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(t){var e,i;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),i=this.results_data[e[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(i.text),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())},i.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.compact_search&&this.search_field.attr("placeholder",t),this.selected_item.find("span").attr("title",t).text(t)},i.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},i.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(t){var e,i;if(i=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=i.length?i.first():this.search_results.find(".active-result").first(),null!=e)return this.result_do_highlight(e,t)},i.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var e,i,o,a,s,n,r,l,d;if(this.is_multiple){for(o=0,r=0,s="position:absolute; left: -1000px; top: -1000px; display:none;",n=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,d=n.length;l<d;l++)a=n[l],s+=a+":"+this.search_field.css(a)+";";return e=t("<div />",{style:s}),e.text(this.search_field.val()),t("body").append(e),r=e.width()+25,e.remove(),i=this.container.outerWidth(),r>i-10&&(r=i-10),this.search_field.css({width:r+"px"})}},i}(e)}.call(this),function(t,e,i){"use strict";var o=0,a='<div class="messager messager-{type} {placement}" style="display: none"><div class="messager-content"></div><div class="messager-actions"></div></div>',s={type:"default",placement:"top",time:4e3,parent:"body",icon:null,close:!0,fade:!0,scale:!0},n={},r=function(e,r){t.isPlainObject(e)&&(r=e,e=r.message);var l=this;r=l.options=t.extend({},s,r),l.id=r.id||o++;var d=n[l.id];d&&d.destroy(),n[l.id]=l,l.message=(r.icon?'<i class="icon-'+r.icon+' icon"></i> ':"")+e,l.$=t(a.format(r)).toggleClass("fade",r.fade).toggleClass("scale",r.scale).attr("id","messager-"+l.id),r.cssClass&&l.$.addClass(r.cssClass);var c=!1,h=l.$.find(".messager-actions"),p=function(e){var o=t('<button type="button" class="action action-'+e.name+'"/>');"close"===e.name&&o.addClass("close"),e.html!==i&&o.html(e.html),e.icon!==i&&o.append('<i class="action-icon icon-'+e.icon+'"/>'),e.text!==i&&o.append('<span class="action-text">'+e.text+"</span>"),e.tooltip!==i&&o.attr("title",e.tooltip).tooltip(),o.data("action",e),h.append(o)};r.actions&&t.each(r.actions,function(t,e){e.name===i&&(e.name=t),"close"==e.name&&(c=!0),p(e)}),!c&&r.close&&p({name:"close",html:"&times;"}),l.$.on("click",".action",function(e){var i,o=t(this).data("action");r.onAction&&(i=r.onAction.call(this,o.name,o,l),i===!1)||t.isFunction(o.action)&&(i=o.action.call(this,l),i===!1)||(l.hide(),e.stopPropagation())}),l.$.on("click",function(t){if(r.onAction){var e=r.onAction.call(this,"content",null,l);e===!0&&l.hide()}});var f=l.$.find(".messager-content").html(l.message);r.contentClass&&f.addClass(r.contentClass),l.$.data("zui.messager",l),r.show&&l.message!==i&&l.show()};r.prototype.update=function(e,i){var o=this,a=o.options;o.$.removeClass("messager-"+a.type),i&&(a=t.extend(a,i)),o.$.addClass("messager-"+a.type),e&&(o.message=(a.icon?'<i class="icon-'+a.icon+' icon"></i> ':"")+e,o.$.find(".messager-content").html(o.message))},r.prototype.show=function(o,a){var s=this,n=this.options;if(t.isFunction(o)){var r=a;a=o,r!==i&&(o=r)}if(s.isShow)return void s.hide(function(){s.show(o,a)});s.hiding&&(clearTimeout(s.hiding),s.hiding=null),s.update(o);var l=n.placement,d=t(n.parent),c=d.children(".messagers-holder."+l);if(c.length||(c=t("<div/>").attr("class","messagers-holder "+l).appendTo(d)),c.append(s.$),"center"===l){var h=t(e).height()-c.height();c.css("top",Math.max(-h,h/2))}return s.$.show().addClass("in"),n.time&&(s.hiding=setTimeout(function(){s.hide()},n.time)),s.isShow=!0,a&&a(),s},r.prototype.hide=function(t,e){t===!0&&(e=!0,t=null);var i=this;if(i.$.hasClass("in")){i.$.removeClass("in");var o=function(){var e=i.$.parent();i.$.detach(),e.children().length||e.remove(),t&&t(!0)};e?o():setTimeout(o,200)}else t&&t(!1);i.isShow=!1},r.prototype.destroy=function(){var t=this;t.hide(function(){t.$.remove(),t.$=null},!0),delete n[t.id]},r.all=n,r.DEFAULTS=s;var l=function(){t(".messager").each(function(){
var e=t(this).data("zui.messager");e&&e.hide&&e.hide(!0)})},d=function(e,o){"string"==typeof o&&(o={type:o}),o=t.extend({},o),o.id===i&&l();var a=n[o.id]||new r(e,o);return a.show(),a},c=function(t){return"string"==typeof t?{placement:t}:t},h={show:d,hide:l};t.each({primary:0,success:"ok-sign",info:"info-sign",warning:"warning-sign",danger:"exclamation-sign",important:0,special:0},function(e,i){h[e]=function(o,a){return d(o,t.extend({type:e,icon:i||null},c(a)))}}),t.zui({Messager:r,showMessager:d,messager:h})}(jQuery,window,void 0),function(t,e,i,o){"use strict";function a(t){if(t=t.toLowerCase(),t&&c.test(t)){var e;if(4===t.length){var i="#";for(e=1;e<4;e+=1)i+=t.slice(e,e+1).concat(t.slice(e,e+1));t=i}var o=[];for(e=1;e<7;e+=2)o.push(_("0x"+t.slice(e,e+2)));return{r:o[0],g:o[1],b:o[2],a:1}}throw new Error("Wrong hex string! (hex: "+t+")")}function s(e){return typeof e===u&&("transparent"===e.toLowerCase()||m[e.toLowerCase()]||c.test(t.trim(e.toLowerCase())))}function n(t){function e(t){return t=t<0?t+1:t>1?t-1:t,6*t<1?r+(n-r)*t*6:2*t<1?n:3*t<2?r+(n-r)*(2/3-t)*6:r}var i=t.h,o=t.s,a=t.l,s=t.a;i=d(i)%p/p,o=l(d(o)),a=l(d(a)),s=l(d(s));var n=a<=.5?a*(o+1):a+o-a*o,r=2*a-n,c={r:e(i+1/3)*h,g:e(i)*h,b:e(i-1/3)*h,a:s};return c}function r(t,i,o){return v(o)&&(o=0),v(i)&&(i=h),e.min(e.max(t,o),i)}function l(t,e){return r(t,e)}function d(t){return"number"==typeof t?t:parseFloat(t)}var c=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,h=255,p=360,f=100,u="string",g="object",m={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},v=function(t){return t===o},b=function(t){return!v(t)},_=function(t){return parseInt(t)},y=function(t){return _(l(d(t),h))},w=function(t,e,i,o){var s=this;if(s.r=s.g=s.b=0,s.a=1,b(o)&&(s.a=l(d(o),1)),b(t)&&b(e)&&b(i))s.r=y(t),s.g=y(e),s.b=y(i);else if(b(t)){var r=typeof t;if(r==u)if(t=t.toLowerCase(),"transparent"===t)s.a=0;else if(m[t])s.rgb(a(m[t]));else if(0===t.indexOf("rgb")){var c=t.substring(t.indexOf("(")+1,t.lastIndexOf(")")).split(",",4);s.rgb({r:c[0],g:c[1],b:c[2],a:c[3]})}else s.rgb(a(t));else if("number"==r&&v(e))s.r=s.g=s.b=y(t);else if(r==g&&b(t.r))s.r=y(t.r),b(t.g)&&(s.g=y(t.g)),b(t.b)&&(s.b=y(t.b)),b(t.a)&&(s.a=l(d(t.a),1));else if(r==g&&b(t.h)){var h={h:l(d(t.h),p),s:1,l:1,a:1};b(t.s)&&(h.s=l(d(t.s),1)),b(t.l)&&(h.l=l(d(t.l),1)),b(t.a)&&(h.a=l(d(t.a),1)),s.rgb(n(h))}}};w.prototype.rgb=function(t){var e=this;if(b(t)){if(typeof t==g)b(t.r)&&(e.r=y(t.r)),b(t.g)&&(e.g=y(t.g)),b(t.b)&&(e.b=y(t.b)),b(t.a)&&(e.a=l(d(t.a),1));else{var i=_(d(t));e.r=i,e.g=i,e.b=i}return e}return{r:e.r,g:e.g,b:e.b,a:e.a}},w.prototype.hue=function(t){var e=this,i=e.toHsl();return v(t)?i.h:(i.h=l(d(t),p),e.rgb(n(i)),e)},w.prototype.darken=function(t){var e=this,i=e.toHsl();return i.l-=t/f,i.l=l(i.l,1),e.rgb(n(i)),e},w.prototype.clone=function(){var t=this;return new w(t.r,t.g,t.b,t.a)},w.prototype.lighten=function(t){return this.darken(-t)},w.prototype.fade=function(t){return this.a=l(t/f,1),this},w.prototype.spin=function(t){var e=this.toHsl(),i=(e.h+t)%p;return e.h=i<0?p+i:i,this.rgb(n(e))},w.prototype.toHsl=function(){var t,i,o=this,a=o.r/h,s=o.g/h,n=o.b/h,r=o.a,l=e.max(a,s,n),d=e.min(a,s,n),c=(l+d)/2,f=l-d;if(l===d)t=i=0;else{switch(i=c>.5?f/(2-l-d):f/(l+d),l){case a:t=(s-n)/f+(s<n?6:0);break;case s:t=(n-a)/f+2;break;case n:t=(a-s)/f+4}t/=6}return{h:t*p,s:i,l:c,a:r}},w.prototype.luma=function(){var t=this.r/h,i=this.g/h,o=this.b/h;return t=t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4),i=i<=.03928?i/12.92:e.pow((i+.055)/1.055,2.4),o=o<=.03928?o/12.92:e.pow((o+.055)/1.055,2.4),.2126*t+.7152*i+.0722*o},w.prototype.saturate=function(t){var e=this.toHsl();return e.s+=t/f,e.s=l(e.s),this.rgb(n(e))},w.prototype.desaturate=function(t){return this.saturate(-t)},w.prototype.contrast=function(t,e,i){if(e=v(e)?new w(h,h,h,1):new w(e),t=v(t)?new w(0,0,0,1):new w(t),t.luma()>e.luma()){var o=e;e=t,t=o}return this.a<.5?t:(i=v(i)?.43:d(i),this.luma()<i?e:t)},w.prototype.hexStr=function(){var t=this.r.toString(16),e=this.g.toString(16),i=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==i.length&&(i="0"+i),"#"+t+e+i},w.prototype.toCssStr=function(){var t=this;return t.a>0?t.a<1?"rgba("+t.r+","+t.g+","+t.b+","+t.a+")":t.hexStr():"transparent"},w.isColor=s,w.names=m,w.get=function(t){return new w(t)},t.zui({Color:w})}(jQuery,Math,window,void 0),/*!
 * ZUI: Generated from less code - v1.9.1 - 2019-06-04
 * http://zui.sexy
 * GitHub: https://github.com/easysoft/zui.git 
 * Copyright (c) 2019 cnezsoft.com; Licensed MIT
 */
function(t){"use strict";var e=0,i=["primary","red","yellow","green","blue","purple","brown","dark"],o={primary:"#3280fc",secondary:"#145ccd",pale:"#ebf2f9",fore:"#353535",back:"#fff",grayDarker:"#222222",grayDark:"#333333",gray:"#808080",grayLight:"#dddddd",grayLighter:"#e5e5e5",grayPale:"#f1f1f1",white:"#fff",black:"#000",red:"#ea644a",yellow:"#f1a325",green:"#38b03f",blue:"#03b8cf",purple:"#8666b8",brown:"#bd7b46",greenPale:"#ddf4df",yellowPale:"#fff0d5",redPale:"#ffe5e0",bluePale:"#ddf3f5",brownPale:"#f7ebe1",purplePale:"#f5eeff",light:"#fff",dark:"#353535",success:"#38b03f",warning:"#f1a325",danger:"#ea644a",info:"#03b8cf",important:"#bd7b46",special:"#8666b8",successPale:"#ddf4df",warningPale:"#fff0d5",dangerPale:"#ffe5e0",infoPale:"#ddf3f5",importantPale:"#f7ebe1",specialPale:"#f5eeff"};o.get=function(a){"undefined"!=typeof a&&"random"!==a||(a=i[e++%i.length]);var s=o[a]?o[a]:a;return t.zui.Color?new t.zui.Color(s):s},t.zui({colorset:o}),t.zui.Color&&t.extend(t.zui.Color,o)}(jQuery),+function(t,e,i){"use strict";if(!t.fn.droppable)return void console.error("Sortable requires droppable.js");var o="zui.sortable",a={selector:"li,div",dragCssClass:"invisible",sortingClass:"sortable-sorting"},s="order",n=function(e,i){var o=this;o.$=t(e),o.options=t.extend({},a,o.$.data(),i),o.init()};n.DEFAULTS=a,n.NAME=o,n.prototype.init=function(){var e,i=this,o=i.$,a=i.options,n=a.selector,r=a.containerSelector,l=a.sortingClass,d=a.dragCssClass,c=a.targetSelector,h=a.reverse,p=function(e){e=e||i.getItems(1);var o=e.length;o&&e.each(function(e){var i=h?o-e:e;t(this).attr("data-"+s,i).data(s,i)})};p(),o.droppable({handle:a.trigger,target:c?c:r?n+","+r:n,selector:n,container:o,always:a.always,flex:!0,lazy:a.lazy,canMoveHere:a.canMoveHere,dropToClass:a.dropToClass,before:a.before,nested:!!r,mouseButton:a.mouseButton,stopPropagation:a.stopPropagation,start:function(t){d&&t.element.addClass(d),e=!1,i.trigger("start",t)},drag:function(t){if(o.addClass(l),t.isIn){var a=t.element,d=t.target,c=r&&d.is(r);if(c){if(!d.children(n).filter(".dragging").length){d.append(a);var f=i.getItems(1);p(f),i.trigger(s,{list:f,element:a})}return}var u=a.data(s),g=d.data(s);if(u===g)return p(f);u>g?d[h?"after":"before"](a):d[h?"before":"after"](a),e=!0;var f=i.getItems(1);p(f),i.trigger(s,{list:f,element:a})}},finish:function(t){d&&t.element&&t.element.removeClass(d),o.removeClass(l),i.trigger("finish",{list:i.getItems(),element:t.element,changed:e})}})},n.prototype.destroy=function(){this.$.droppable("destroy"),this.$.data(o,null)},n.prototype.reset=function(){this.destroy(),this.init()},n.prototype.getItems=function(e){var i=this.$.find(this.options.selector).not(".drag-shadow");return e?i:i.map(function(){var e=t(this);return{item:e,order:e.data("order")}})},n.prototype.trigger=function(e,i){return t.zui.callEvent(this.options[e],i,this)},t.fn.sortable=function(e){return this.each(function(){var i=t(this),a=i.data(o),s="object"==typeof e&&e;a?"object"==typeof e&&a.reset():i.data(o,a=new n(this,s)),"string"==typeof e&&a[e]()})},t.fn.sortable.Constructor=n}(jQuery,window,document),function(t,e){"use strict";var i,o,a="localStorage",s="page_"+t.location.pathname+t.location.search,n=function(){this.slience=!0;try{a in t&&t[a]&&t[a].setItem&&(this.enable=!0,i=t[a])}catch(n){}this.enable||(o={},i={getLength:function(){var t=0;return e.each(o,function(){t++}),t},key:function(t){var i,a=0;return e.each(o,function(e){return a===t?(i=e,!1):void a++}),i},removeItem:function(t){delete o[t]},getItem:function(t){return o[t]},setItem:function(t,e){o[t]=e},clear:function(){o={}}}),this.storage=i,this.page=this.get(s,{})};n.prototype.pageSave=function(){if(e.isEmptyObject(this.page))this.remove(s);else{var t,i=[];for(t in this.page){var o=this.page[t];null===o&&i.push(t)}for(t=i.length-1;t>=0;t--)delete this.page[i[t]];this.set(s,this.page)}},n.prototype.pageRemove=function(t){"undefined"!=typeof this.page[t]&&(this.page[t]=null,this.pageSave())},n.prototype.pageClear=function(){this.page={},this.pageSave()},n.prototype.pageGet=function(t,e){var i=this.page[t];return void 0===e||null!==i&&void 0!==i?i:e},n.prototype.pageSet=function(t,i){e.isPlainObject(t)?e.extend(!0,this.page,t):this.page[this.serialize(t)]=i,this.pageSave()},n.prototype.check=function(){if(!this.enable&&!this.slience)throw new Error("Browser not support localStorage or enable status been set true.");return this.enable},n.prototype.length=function(){return this.check()?i.getLength?i.getLength():i.length:0},n.prototype.removeItem=function(t){return i.removeItem(t),this},n.prototype.remove=function(t){return this.removeItem(t)},n.prototype.getItem=function(t){return i.getItem(t)},n.prototype.get=function(t,e){var i=this.deserialize(this.getItem(t));return"undefined"!=typeof i&&null!==i||"undefined"==typeof e?i:e},n.prototype.key=function(t){return i.key(t)},n.prototype.setItem=function(t,e){return i.setItem(t,e),this},n.prototype.set=function(t,e){return void 0===e?this.remove(t):(this.setItem(t,this.serialize(e)),this)},n.prototype.clear=function(){return i.clear(),this},n.prototype.forEach=function(t){for(var e=this.length(),o=e-1;o>=0;o--){var a=i.key(o);t(a,this.get(a))}return this},n.prototype.getAll=function(){var t={};return this.forEach(function(e,i){t[e]=i}),t},n.prototype.serialize=function(t){return"string"==typeof t?t:JSON.stringify(t)},n.prototype.deserialize=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}},e.zui({store:new n})}(window,jQuery),function(t){"use strict";var e="zui.datatable",i=t.zui.store,o=function(i,o){this.name=e,this.$=t(i),this.isTable="TABLE"===this.$[0].tagName,this.firstShow=!0,this.isTable?(this.$table=this.$,this.id="datatable-"+(this.$.attr("id")||t.zui.uuid())):(this.$datatable=this.$.addClass("datatable"),this.$.attr("id")?this.id=this.$.attr("id"):(this.id="datatable-"+t.zui.uuid(),this.$.attr("id",this.id))),this.getOptions(o),this.load(),this.callEvent("ready")};o.DEFAULTS={checkable:!1,checkByClickRow:!0,checkedClass:"active",checkboxName:null,selectable:!0,sortable:!1,storage:!0,fixedHeader:!1,fixedHeaderOffset:0,fixedLeftWidth:"30%",fixedRightWidth:"30%",flexHeadDrag:!0,scrollPos:"in",rowHover:!0,colHover:!0,hoverClass:"hover",colHoverClass:"col-hover",fixCellHeight:!0,mergeRows:!1,minColWidth:20,minFixedLeftWidth:200,minFixedRightWidth:200,minFlexAreaWidth:200},o.prototype.getOptions=function(e){var i=this.$;e=t.extend({},o.DEFAULTS,this.$.data(),e),e.tableClass=e.tableClass||"",e.tableClass=" "+e.tableClass+" table-datatable",t.each(["bordered","condensed","striped","condensed","fixed"],function(t,o){o="table-"+o,i.hasClass(o)&&(e.tableClass+=" "+o)}),(i.hasClass("table-hover")||e.rowHover)&&(e.tableClass+=" table-hover"),e.checkable&&t.fn.selectable||(e.selectable=!1),this.options=e},o.prototype.load=function(i){var o,a=this.options;if(t.isFunction(i))i=i(this.data,this),i.keepSort=!0;else if(t.isPlainObject(i))this.data=i;else if("string"==typeof i){var s=t(i);s.length&&(this.$table=s.first(),this.$table.data(e,this),this.isTable=!0),i=null}else i=a.data;if(!i){if(!this.isTable)throw new Error("No data avaliable!");i={cols:[],rows:[]},o=i.cols;var n,r,l,d,c,h,p=i.rows,f=this.$table;f.children("thead").children("tr:first").children("th").each(function(){r=t(this),o.push(t.extend({text:r.html(),flex:r.hasClass("flex-col"),width:"auto",cssClass:r.attr("class"),css:r.attr("style"),type:"string",ignore:r.hasClass("ignore"),sort:!r.hasClass("sort-disabled"),mergeRows:r.attr("merge-rows"),title:r.attr("title")},r.data()))}),f.children("tbody").children("tr").each(function(){l=t(this),c=t.extend({data:[],checked:!1,cssClass:l.attr("class"),css:l.attr("style"),id:l.attr("id")},l.data()),l.children("td").each(function(){if(d=t(this),h=d.attr("colspan")||1,c.data.push(t.extend({cssClass:d.attr("class"),css:d.attr("style"),text:d.html(),colSpan:h,title:d.attr("title")},d.data())),h>1)for(n=1;n<h;n++)c.data.push({empty:!0})}),p.push(c)});var u=f.children("tfoot");u.length&&(i.footer=t('<table class="table'+a.tableClass+'"></table>').append(u))}i.flexStart=-1,i.flexEnd=-1,o=i.cols,i.colsLength=o.length;for(var n=0;n<i.colsLength;++n){var g=o[n];g.flex&&(i.flexStart<0&&(i.flexStart=n),i.flexEnd=n)}0===i.flexStart&&i.flexEnd===i.colsLength&&(i.flexStart=-1,i.flexEnd=-1),i.flexArea=i.flexStart>=0,i.fixedRight=i.flexEnd>=0&&i.flexEnd<i.colsLength-1,i.fixedLeft=i.flexStart>0,i.flexStart<0&&i.flexEnd<0&&(i.fixedLeft=!0,i.flexStart=i.colsLength,i.flexEnd=i.colsLength),this.data=i,this.callEvent("afterLoad",{data:i}),this.render()},o.prototype.render=function(){var i,o,a,s,n=this,r=n.$datatable||(n.isTable?t('<div class="datatable" id="'+n.id+'"/>'):n.$datatable),l=n.options,d=n.data,c=n.data.cols,h=n.data.rows,p=l.checkable,f='<div class="datatable-rows-span datatable-span"><div class="datatable-wrapper"><table class="table"></table></div></div>',u='<div class="datatable-head-span datatable-span"><div class="datatable-wrapper"><table class="table"><thead></thead></table></div></div>';r.children(".datatable-head, .datatable-rows, .scroll-wrapper").remove(),r.toggleClass("sortable",l.sortable);var g,m,v,b=t('<div class="datatable-head"/>');for(i=t('<tr class="datatable-row datatable-row-left"/>'),a=t('<tr class="datatable-row datatable-row-right"/>'),s=t('<tr class="datatable-row datatable-row-flex"/>'),o=0;o<c.length;o++)v=c[o],g=o<d.flexStart?i:o>=d.flexStart&&o<=d.flexEnd?s:a,0===o&&p&&g.append('<th data-index="check" class="check-all check-btn"><i class="icon-check-empty"></i></th>'),v.ignore||(m=t('<th class="datatable-head-cell"/>'),m.toggleClass("sort-down","down"===v.sort).toggleClass("sort-up","up"===v.sort).toggleClass("sort-disabled",v.sort===!1),m.addClass(v.cssClass).addClass(v.colClass).html(v.text).attr({"data-index":o,"data-type":v.type,style:v.css,title:v.title}).css("width",v.width),g.append(m));var _;d.fixedLeft&&(_=t(u),_.addClass("fixed-left").find("table").addClass(l.tableClass).find("thead").append(i),b.append(_)),d.flexArea&&(_=t(u),_.addClass("flexarea").find(".datatable-wrapper").append('<div class="scrolled-shadow scrolled-in-shadow"></div><div class="scrolled-shadow scrolled-out-shadow"></div>').find("table").addClass(l.tableClass).find("thead").append(s),b.append(_)),d.fixedRight&&(_=t(u),_.addClass("fixed-right").find("table").addClass(l.tableClass).find("thead").append(a),b.append(_)),r.append(b);var y,w,x,C,k,$,T,z,E=t('<div class="datatable-rows">'),S=h.length;i=t("<tbody/>"),a=t("<tbody/>"),s=t("<tbody/>");for(var D=0;D<S;++D){for($=h[D],"undefined"==typeof $.id&&($.id=D),$.index=D,y=t('<tr class="datatable-row"/>'),y.addClass($.cssClass).toggleClass(l.checkedClass,!!$.checked).attr({"data-index":D,"data-id":$.id}),w=y.clone().addClass("datatable-row-flex"),x=y.clone().addClass("datatable-row-right"),y.addClass("datatable-row-left"),z=$.data.length,o=0;o<z;++o)T=$.data[o],o>0&&T.empty||(g=o<d.flexStart?y:o>=d.flexStart&&o<=d.flexEnd?w:x,0===o&&p&&(k=t('<td data-index="check" class="check-row check-btn"><i class="icon-check-empty"></i></td>'),l.checkboxName&&k.append('<input class="hide" type="checkbox" name="'+l.checkboxName+'" value="'+$.id+'">'),g.append(k)),c[o].ignore||(t.isPlainObject(T)?(T.row=D,T.index=o):T={text:T,row:D,index:o},$.data[o]=T,C=t('<td class="datatable-cell"/>'),C.html(T.text).addClass(T.cssClass).addClass(c[o].colClass).attr("colspan",T.colSpan).attr({"data-row":D,"data-index":o,"data-flex":!1,"data-type":c[o].type,style:T.css,title:T.title||""}).css("width",c[o].width),g.append(C)));i.append(y),s.append(w),a.append(x)}var I;d.fixedLeft&&(I=t(f),I.addClass("fixed-left").find("table").addClass(l.tableClass).append(i),E.append(I)),d.flexArea&&(I=t(f),I.addClass("flexarea").find(".datatable-wrapper").append('<div class="scrolled-shadow scrolled-in-shadow"></div><div class="scrolled-shadow scrolled-out-shadow"></div>').find("table").addClass(l.tableClass).append(s),E.append(I)),d.fixedRight&&(I=t(f),I.addClass("fixed-right").find("table").addClass(l.tableClass).append(a),E.append(I)),r.append(E),d.flexArea&&r.append('<div class="scroll-wrapper"><div class="scroll-slide scroll-pos-'+l.scrollPos+'"><div class="bar"></div></div></div>');var P=r.children(".datatable-footer").detach();d.footer?(r.append(t('<div class="datatable-footer"/>').append(d.footer)),d.footer=null):P.length&&r.append(P),n.$datatable=r.data(e,n),n.isTable&&n.firstShow&&(n.$table.attr("data-datatable-id",this.id).hide().after(r),n.firstShow=!1),n.bindEvents(),n.refreshSize(),n.callEvent("render")},o.prototype.bindEvents=function(){var e=this,o=this.data,a=this.options,s=this.$datatable,n=e.$dataSpans=s.children(".datatable-head, .datatable-rows").find(".datatable-span"),r=e.$rowsSpans=s.children(".datatable-rows").children(".datatable-rows-span"),l=e.$headSpans=s.children(".datatable-head").children(".datatable-head-span"),d=e.$cells=n.find(".datatable-head-cell,.datatable-cell"),c=e.$dataCells=d.filter(".datatable-cell");e.$headCells=d.filter(".datatable-head-cell");var h=e.$rows=e.$rowsSpans.find(".datatable-row");if(a.rowHover){var p=a.hoverClass;r.on("mouseenter",".datatable-cell",function(){c.filter("."+p).removeClass(p),h.filter("."+p).removeClass(p),h.filter('[data-index="'+t(this).addClass(p).data("row")+'"]').addClass(p)}).on("mouseleave",".datatable-cell",function(){c.filter("."+p).removeClass(p),h.filter("."+p).removeClass(p)})}if(a.colHover){var f=a.colHoverClass;l.on("mouseenter",".datatable-head-cell",function(){d.filter("."+f).removeClass(f),d.filter('[data-index="'+t(this).data("index")+'"]').addClass(f)}).on("mouseleave",".datatable-head-cell",function(){d.filter("."+f).removeClass(f)})}if(o.flexArea){var u,g,m,v,b,_,y=s.find(".scroll-slide"),w=s.find(".datatable-span.flexarea"),x=s.find(".datatable-span.fixed-left"),C=s.find(".datatable-span.flexarea .table-datatable"),k=y.children(".bar"),$=e.id+"_scrollOffset";e.width=s.width(),s.resize(function(){e.width=s.width()});var T=function(t,e){v=Math.max(0,Math.min(u-g,t)),e||s.addClass("scrolling"),k.css("left",v),_=0-Math.floor((m-u)*v/(u-g)),C.css("left",_),s.toggleClass("scrolled-in",v>2).toggleClass("scrolled-out",v<u-g-2),a.storage&&i.pageSet($,v)},z=function(){u=w.width()-2,y.width(u).css("left",x.width()),m=0,C.first().find("tr:first").children("td,th").each(function(){m+=t(this).outerWidth()}),g=Math.floor(u*u/m),k.css("width",g),C.css("min-width",Math.max(u,m)),s.toggleClass("show-scroll-slide",m>u),b||u===g||(b=!0,T(i.pageGet($,0),!0)),s.hasClass("size-changing")&&T(v,!0)};w.resize(z),a.storage&&z();var E={move:!1,stopPropagation:!0,drag:function(t){T(k.position().left+t.smallOffset.x*(t.element.hasClass("bar")?1:-1))},finish:function(){s.removeClass("scrolling")}};t.fn.draggable?(k.draggable(E),a.flexHeadDrag&&s.find(".datatable-head-span.flexarea").draggable(E)):console.error("DataTable requires draggable.js to improve UI."),y.mousedown(function(t){var e=t.pageX-y.offset().left;T(e-g/2)})}if(a.checkable){var S,D=e.id+"_checkedStatus",I=a.checkedClass,P=function(){var s=r.first().find(".datatable-row"),n=s.filter("."+I);a.checkboxName&&s.find(".check-row input:checkbox").prop("checked",!1);var d={checkedAll:s.length===n.length&&n.length>0,checks:n.map(function(){return S=t(this).data("id"),a.checkboxName&&t(this).find(".check-row input:checkbox").prop("checked",!0),S}).toArray()};e.checks=d,t.each(o.rows,function(e,i){i.checked=t.inArray(i.id,d.checks)>-1}),l.find(".check-all").toggleClass("checked",!!d.checkedAll),a.storage&&i.pageSet(D,d),e.callEvent("checksChanged",{checks:d})},O=function(e,i){var o=t(e).closest("tr");void 0===i&&(i=!o.hasClass(I)),h.filter('[data-index="'+o.data("index")+'"]').toggleClass(I,!!i)},H="click.zui.datatable.check";if(a.selectable){var L={selector:".datatable-rows .datatable-row",trigger:".datatable-rows",start:function(e){var i=t(e.target).closest(".check-row, .check-btn");if(i.length)return i.is(".check-row")&&(O(i),P()),!1},rangeFunc:function(t,e){return Math.max(t.top,e.top)<Math.min(t.top+t.height,e.top+e.height)},select:function(t){O(t.target,!0)},unselect:function(t){O(t.target,!1)},finish:function(t){P()}};t.isPlainObject(a.selectable)&&t.extend(L,a.selectable),this.$datatable.selectable(L)}else this.$rowsSpans.off(H).on(H+"row",a.checkByClickRow?"tr":".check-row",function(){O(this),P()});if(this.$datatable.off(H).on("click.zui.datatable.check",".check-all",function(){h.toggleClass(I,t(this).toggleClass("checked").hasClass("checked")),P()}).on(H+".none",".check-none",function(){h.toggleClass(I,!1),P()}).on(H+".inverse",".check-inverse",function(){h.toggleClass(I),P()}),a.storage){var j=i.pageGet(D);j&&(l.find(".check-all").toggleClass("checked",j.checkedAll),j.checkedAll?h.addClass(I):(h.removeClass(I),t.each(j.checks,function(t,e){h.filter('[data-id="'+e+'"]').addClass(I)})),j.checks.length&&P())}}if(a.fixedHeader){var F,A,M,R=s.children(".datatable-head"),N=a.fixedHeaderOffset||t(".navbar.navbar-fixed-top").height()||0,W=function(){F=s.offset().top,M=t(window).scrollTop(),A=s.height(),s.toggleClass("head-fixed",M+N>F&&M+N<F+A),s.hasClass("head-fixed")?R.css({width:s.width(),top:N}):R.attr("style","")};t(window).scroll(W),W()}a.sortable?(l.on("click","th:not(.sort-disabled, .check-btn)",function(){s.hasClass("size-changing")||e.sortTable(t(this))}),a.storage&&e.sortTable()):a.mergeRows&&this.mergeRows()},o.prototype.mergeRows=function(){for(var e=this.$rowsSpans.find(".datatable-cell"),i=this.data.cols,o=0;o<i.length;o++){var a=i[o];if(a.mergeRows){var s=e.filter('[data-index="'+o+'"]');if(s.length>1){var n,r;s.each(function(){var e=t(this);n&&e.html()===n.html()?(r=n.attr("rowspan")||1,"number"!=typeof r&&(r=parseInt(r),isNaN(r)&&(r=1)),n.attr("rowspan",r+1).css("vertical-align","middle"),e.remove()):n=e})}}}},o.prototype.sortTable=function(e){var i=t.zui.store,o=this.options,a=this.id+"_datatableSorter",s=o.storage?i.pageGet(a):null;if(e||(e=s?this.$headCells.filter('[data-index="'+s.index+'"]').addClass("sort-"+("up"===s.type?"down":"up")):this.$headCells.filter(".sort-up, .sort-down").first()),e.length){var n,r,l,d=this.data,c=d.cols,h=d.rows,p=this.$headCells;n=!e.hasClass("sort-up"),d.keepSort&&(n=!n),d.keepSort=null,p.removeClass("sort-up sort-down"),e.addClass(n?"sort-up":"sort-down"),l=e.data("index"),t.each(c,function(t,e){t==l||"up"!==e.sort&&"down"!==e.sort?t==l&&(e.sort=n?"up":"down",r=e.type):e.sort=!0});var f,u,g,m=this.$dataCells.filter('[data-index="'+l+'"]');h.sort(function(t,e){return t=t.data[l],e=e.data[l],f=m.filter('[data-row="'+t.row+'"]').text(),u=m.filter('[data-row="'+e.row+'"]').text(),"number"===r?(f=parseFloat(f),u=parseFloat(u)):"date"===r?(f=Date.parse(f),u=Date.parse(u)):(f=f.toLowerCase(),u=u.toLowerCase()),g=f<u?1:f>u?-1:0,n&&(g*=-1),g});var v,b,_,y=this.$rows,w=[];t.each(h,function(e,i){v=y.filter('[data-index="'+i.index+'"]'),v.each(function(e){_=t(this),b=w[e],b?b.after(_):_.parent().prepend(_),w[e]=_})}),s={index:l,type:n?"up":"down"},o.storage&&i.pageSet(a,s),this.callEvent("sort",{sorter:s})}},o.prototype.refreshSize=function(){var e,i=this.$datatable,o=this.options,a=this.data.rows;this.data.cols;if(i.find(".datatable-span.fixed-left").css("width",o.fixedLeftWidth),i.find(".datatable-span.fixed-right").css("width",o.fixedRightWidth),o.fixCellHeight){var s=function(e){var i,o,a=0;return e.css("height","auto"),e.each(function(){i=t(this),o=i.attr("rowspan"),o&&1!=o||(a=Math.max(a,i.outerHeight()))}),a},n=this.$dataCells,r=(this.$cells,this.$headCells),l=s(r);r.css("min-height",l).css("height",l);var d;for(e=0;e<a.length;++e){d=n.filter('[data-row="'+e+'"]');var c=s(d);d.css("min-height",c).css("height",c)}}},o.prototype.callEvent=function(t,e){var i=this.$.callEvent(t+"."+this.name,e,this).result;return!(void 0!==i&&!i)},t.fn.datatable=function(i,a){return this.each(function(){var s=t(this),n=s.data(e),r="object"==typeof i&&i;n||s.data(e,n=new o(this,r)),"string"==typeof i&&("load"!==i||!t.isPlainObject(a)||void 0!==a.keepSort&&null!==a.keepSort||(a.keepSort=!0),n[i](a))})},t.fn.datatable.Constructor=o}(jQuery),function(t,e,i){"use strict";function o(t,i,o,a){return e.abs((o-t)*(a-i))}function a(t,e,i,o,a,s){return t>=i&&t<=a&&e>=o&&e<=s}function s(t,i,s,n,r,l,d,c){var h=e.max(t,r),p=e.max(i,l),f=e.min(s,d),u=e.min(n,c);return a(h,p,t,i,s,n)&&a(f,u,t,i,s,n)&&a(h,p,r,l,d,c)&&a(f,u,r,l,d,c)?o(h,p,f,u):0}var n=t.zui.Messager?new t.zui.Messager({placement:"top",time:1500,close:0,scale:!1,fade:!1}):0,r=function(e,i){this.$=t(e),this.options=this.getOptions(i),this.draggable=this.$.hasClass("dashboard-draggable")||this.options.draggable,this.init()};r.DEFAULTS={minHeight:100,height:360,shadowType:"normal",sensitive:!1,circleShadowSize:100,onlyRefreshBody:!0,resizable:!0,resizeMessage:!1},r.prototype.getOptions=function(e){return e=t.extend({},r.DEFAULTS,this.$.data(),e)},r.prototype.handleRemoveEvent=function(){var e=this.options.afterPanelRemoved,o=this.options.panelRemovingTip;this.$.on("click",".remove-panel",function(){var a=t(this).closest(".panel"),s=a.data("name")||a.find(".panel-heading").text().replace("\n","").replace(/(^\s*)|(\s*$)/g,""),n=a.attr("data-id");(o===i||o===!1||confirm(o.format(s)))&&(a.parent().remove(),e&&t.isFunction(e)&&e(n))})},r.prototype.handleRefreshEvent=function(){var e=this,i=this.options.onlyRefreshBody;this.$.on("click",".refresh-panel",function(){var o=t(this).closest(".panel");e.refresh(o,i)})},r.prototype.handleDraggable=function(){var i=this.$,a=this.options,n="circle"===a.shadowType,r=a.circleShadowSize,l=r/2,d=a.afterOrdered;this.$.addClass("dashboard-draggable"),this.$.on("mousedown",".panel-actions, .drag-disabled",function(t){t.stopPropagation()});var c;this.$.on("mousedown",".panel-heading, .panel-drag-handler",function(h){function p(i){var n=T.data("mouseOffset");g=i.pageX-n.x,m=i.pageY-n.y,v=g+D,b=m+I,T.css({left:g,top:m}),$.find(".dragging-in").removeClass("dragging-in"),w=!1,y=null;var r,l=0;$.children(":not(.dragging-col)").each(function(){var n=t(this);if(n.hasClass("dragging-col-holder"))return w=!a.sensitive||l<100,!0;var d=n.children(".panel"),c=d.offset(),h=d.width(),p=d.height(),f=c.left,u=c.top;if(a.sensitive)f-=E.left,u-=E.top,r=s(g,m,v,b,f,u,f+h,u+p),r>100&&r>l&&r>e.min(o(g,m,v,b),o(f,u,f+h,u+p))/3&&(l=r,y=n);else{var _=i.pageX,x=i.pageY;if(_>f&&x>u&&_<f+h&&x<u+p)return y=n,!1}}),y&&(_&&clearTimeout(_),x=y,_=setTimeout(f,50)),i.preventDefault()}function f(){x&&(x.addClass("dragging-in"),w?S.insertAfter(x):S.insertBefore(x),i.addClass("dashboard-holding"),_=null,x=null)}function u(e){_&&clearTimeout(_);var o=C.data("order");C.parent().insertAfter(S);var a=0,s={};$.children(":not(.dragging-col-holder)").each(function(){var e=t(this).children(".panel");e.data("order",++a),s[e.data("id")||e.attr("id")]=a,e.parent().attr("data-order",a)}),o!=s[C.data("id")||C.attr("id")]&&($.data("orders",s),d&&t.isFunction(d)&&d(s)),T.remove(),S.remove(),i.removeClass("dashboard-holding"),i.find(".dragging-col").removeClass("dragging-col"),i.find(".panel-dragging").removeClass("panel-dragging"),$.find(".dragging-in").removeClass("dragging-in"),i.removeClass("dashboard-dragging"),t(document).off("mousemove",p).off("mouseup",u),e.preventDefault()}var g,m,v,b,_,y,w,x,C=t(this).closest(".panel"),k=C.parent(),$=C.closest(".row"),T=C.clone().addClass("panel-dragging-shadow"),z=C.offset(),E=i.offset(),S=$.find(".dragging-col-holder"),D=C.width(),I=C.height();S.length||(S=t('<div class="dragging-col-holder"><div class="panel"></div></div>').removeClass("dragging-col").appendTo($)),c&&S.removeClass(c),S.addClass(c=k.attr("class")),S.insertBefore(k).find(".panel").replaceWith(C.clone().addClass("panel-dragging panel-dragging-holder")),i.addClass("dashboard-dragging"),C.addClass("panel-dragging").parent().addClass("dragging-col"),T.css({left:z.left-E.left,top:z.top-E.top,width:D,height:I}).appendTo(i).data("mouseOffset",{x:h.pageX-z.left+E.left,y:h.pageY-z.top+E.top}),n&&(T.addClass("circle"),setTimeout(function(){T.css({left:h.pageX-E.left-l,top:h.pageY-E.top-l,width:r,height:r}).data("mouseOffset",{x:E.left+l,y:E.top+l})},100)),t(document).on("mousemove",p).on("mouseup",u),h.preventDefault()})},r.prototype.handlePanelPadding=function(){this.$.find(".panel-body > table, .panel-body > .list-group").parent().addClass("no-padding")},r.prototype.updatePanelHeight=function(){var i=this,o=i.options.height,a=i.options.minHeight,s={};return i.id&&t.zui.store&&(s=t.zui.store.pageGet("zui.dashboard."+i.id+".sizeConfig",s)),this.$.children(".row").each(function(){var i=t(this),n=i.width(),r=[],l=[],d=0;i.children(":not(.dragging-col-holder)").each(function(){var e=t(this),i=e.width();d+i>n?(l.length&&r.push(l),l=[e],d=i):(d+=i,l.push(e))}),l.length&&r.push(l),r.length&&t.each(r,function(i){l=r[i];var n=0,d=[],c=!1;t.each(l,function(t){var o=l[t].data("row-id",i),r=o.children(".panel:first");if(d.push(r),!c){var h=r.data("newHeight");if(h)r.data("newHeight",null).data("height",h),n=e.max(a,h),c=!0;else{var p=r.data("height")||s[r.data("id")];p&&(n=e.max(n,p))}}}),n||(n=o),t.each(d,function(t){var e=d[t].css("height",n);s[e.data("id")]=e.data("height")})})}),i.id&&t.zui.store&&t.zui.store.pageSet("zui.dashboard."+i.id+".sizeConfig",s),s},r.prototype.handleResizeEvent=function(){var i=this,o=i.options,a=o.resizable,s=o.onResize,r=o.minHeight,l=o.resizeMessage,d=l&&n;i.$.on("mousedown",".resize-handle",function(o){var a=t(this),l=a.hasClass("resize-vertical"),c=a.parent().addClass("resizing").toggleClass("resizing-v",l).toggleClass("resizing-h",!l),h=c.closest(".row"),p=c.children(".panel"),f=o.pageX,u=o.pageY,g=c.width(),m=p.height(),v=h.width(),b=e.round(12*g/v),_=b;l||c.attr("data-grid",b);var y=function(t){if(l)p.css("height",e.max(r,m+(t.pageY-u)));else{var i=t.pageX,o=e.max(1,e.min(12,e.round(12*(g+(i-f))/v)));_!=o&&(c.attr("data-grid",o).css("width",100*o/12+"%"),d&&n[n.isShow?"update":"show"](e.round(100*o/12)+"% ("+o+"/12)"),_=o)}t.preventDefault(),t.stopPropagation()},w=function(o){if(c.removeClass("resizing resizing-v resizing-h"),l){var a=e.max(r,m+(o.pageY-u));if(a!==m){if(t.isFunction(s)){var h=function(){p.css("height",m).data("height",m),i.updatePanelHeight()},f=s({type:"vertical",id:p.data("id"),element:c,old:m,height:a,revert:h});f===!1&&h()}p.css("height",a).data("newHeight",a)}}else{var g=c.attr("data-grid");if(b!=g&&t.isFunction(s)){var h=function(){c.attr("data-grid",b).css("width",null),i.updatePanelHeight()},f=s({type:"horizontal",id:p.data("id"),element:c,old:b,grid:g,revert:h});f===!1?h():f!==!0&&d&&n.show(e.round(100*g/12)+"% ("+g+"/12)")}}i.updatePanelHeight(),t("body").off("mousemove.resize",y).off("mouseup.resize",w),o.preventDefault(),o.stopPropagation()};t("body").on("mousemove.resize",y).on("mouseup.resize",w),o.preventDefault(),o.stopPropagation()});var c=i.$.children(".row").children(":not(.dragging-col-holder)");a!==!0&&"horizontal"!==a||c.append('<div class="resize-handle resize-horizontal"><i class="icon icon-resize-h"></i></div>'),a!==!0&&"vertical"!==a||c.append('<div class="resize-handle resize-vertical"><i class="icon icon-resize-v"></i></div>')},r.prototype.refresh=function(e,o){o===i&&(o=this.options.onlyRefreshBody);var a=this.options.afterRefresh;e=t(e);var s=e.data("url");s&&(e.addClass("panel-loading").find(".panel-heading .icon-refresh,.panel-heading .icon-repeat").addClass("icon-spin"),t.ajax({url:s,dataType:"html"}).done(function(i){var s=t(i);s.hasClass("panel")?e.empty().append(s.children()):o?e.find(".panel-body").empty().html(i):e.html(i),t.isFunction(a)&&a.call(this,{result:!0,data:i,$panel:e})}).fail(function(){e.addClass("panel-error"),t.isFunction(a)&&a.call(this,{result:!1,$panel:e})}).always(function(){e.removeClass("panel-loading"),e.find(".panel-heading .icon-refresh,.panel-heading .icon-repeat").removeClass("icon-spin")}))},r.prototype.init=function(){var e=this.options,o=this;if(o.id=e.id?e.id:o.$.attr("id"),e.data){var a=t('<div class="row"/>');t.each(e.data,function(e,o){var s=t('<div class="col-sm-'+(o.colWidth||4)+'"/>');o.colAttrs&&s.attr(o.colAttrs);var n=t('<div class="panel" data-id="'+(o.id||t.zui.uuid())+'"/>');if(o.panelAttrs&&n.attr(o.panelAttrs),o.height!==i&&n.data("height",o.height),o.content!==i)if(t.isFunction(o.content)){var r=o.content(n);r!==!0&&n.html(r)}else n.html(o.content);a.append(s.append(n.data("url",o.url)))}),o.$.append(a)}o.updatePanelHeight(),o.handlePanelPadding(),o.handleRemoveEvent(),o.handleRefreshEvent(),e.resizable&&o.handleResizeEvent(),o.draggable&&o.handleDraggable();var s=0;o.$.find(".panel").each(function(){var i=t(this);i.data("order",++s),i.attr("id")||i.attr("id","panel"+s),i.attr("data-id")||i.attr("data-id",s),o.refresh(i,e.onlyRefreshBody)}),o.$.find('[data-toggle="tooltip"]').tooltip({container:"body"})},t.fn.dashboard=function(e){return this.each(function(){var i=t(this),o=i.data("zui.dashboard"),a="object"==typeof e&&e;o||i.data("zui.dashboard",o=new r(this,a)),"string"==typeof e&&o[e]()})},t.fn.dashboard.Constructor=r}(jQuery,Math,void 0),function(t,e,i){"use strict";t.fn.draggable||console.error("img-cutter requires draggable.js"),t.zui.imgReady||console.error("img-cutter requires image.ready.js");var o="zui.imgCutter",a=function(e,i){this.$=t(e),this.initOptions(i),this.init()};a.DEFAULTS={coverColor:"#000",coverOpacity:.6,defaultWidth:128,defaultHeight:128,minWidth:48,minHeight:48},a.prototype.callEvent=function(t,e){var a=this.$.callEvent(t+"."+o,e,this);return!(a.result!==i&&!a.result)},a.prototype.initOptions=function(e){this.options=t.extend({},a.DEFAULTS,this.$.data(),e),this.options.coverOpacityIE=100*this.options.coverOpacity,this.clipWidth=this.options.defaultWidth,this.clipHeight=this.options.defaultHeight},a.prototype.init=function(){this.initDom(),this.initSize(),this.bindEvents()},a.prototype.initDom=function(){this.$canvas=this.$.children(".canvas"),this.$img=this.$canvas.children("img"),this.$actions=this.$.children(".actions"),this.$btn=this.$.find(".img-cutter-submit"),this.$preview=this.$.find(".img-cutter-preview"),this.options.img=this.$img.attr("src"),this.$canvas.append('<div class="cover" style="background: {coverColor}; opacity: {coverOpacity}; filter:alpha(opacity={coverOpacityIE});"></div><div class="controller" style="width: {defaultWidth}px; height: {defaultHeight}px"><div class="control" data-direction="top"></div><div class="control" data-direction="right"></div><div class="control" data-direction="bottom"></div><div class="control" data-direction="left"></div><div class="control" data-direction="top-left"></div><div class="control" data-direction="top-right"></div><div class="control" data-direction="bottom-left"></div><div class="control" data-direction="bottom-right"></div></div><div class="cliper"><img src="{img}"/></div>'.format(this.options)),this.$cover=this.$canvas.children(".cover"),this.$controller=this.$canvas.children(".controller"),this.$cliper=this.$canvas.children(".cliper"),this.$chipImg=this.$cliper.children("img"),this.options.fixedRatio&&this.$.addClass("fixed-ratio")},a.prototype.resetImage=function(t){var e=this;e.options.img=t,e.$img.attr("src",t),e.$chipImg.attr("src",t),e.imgWidth=i,e.left=i,e.initSize()},a.prototype.initSize=function(){var o=this;o.imgWidth||t.zui.imgReady(o.options.img,function(){o.imgWidth=this.width,o.imgHeight=this.height,o.callEvent("ready")});var a=setInterval(function(){o.imgWidth&&(clearInterval(a),o.width=e.min(o.imgWidth,o.$.width()),o.$canvas.css("width",this.width),o.$cliper.css("width",this.width),o.height=o.$canvas.height(),o.left===i&&(o.left=e.floor((o.width-o.$controller.width())/2),o.top=e.floor((o.height-o.$controller.height())/2)),o.refreshSize())},0)},a.prototype.refreshSize=function(t){var i=this.options;this.clipWidth=e.max(i.minWidth,e.min(this.width,this.clipWidth)),this.clipHeight=e.max(i.minHeight,e.min(this.height,this.clipHeight)),i.fixedRatio&&(t&&"height"===t?(this.clipWidth=e.max(i.minWidth,e.min(this.width,this.clipHeight*i.defaultWidth/i.defaultHeight)),this.clipHeight=this.clipWidth*i.defaultHeight/i.defaultWidth):(this.clipHeight=e.max(i.minHeight,e.min(this.height,this.clipWidth*i.defaultHeight/i.defaultWidth)),
this.clipWidth=this.clipHeight*i.defaultWidth/i.defaultHeight)),this.left=e.min(this.width-this.clipWidth,e.max(0,this.left)),this.top=e.min(this.height-this.clipHeight,e.max(0,this.top)),this.right=this.left+this.clipWidth,this.bottom=this.top+this.clipHeight,this.$controller.css({left:this.left,top:this.top,width:this.clipWidth,height:this.clipHeight}),this.$cliper.css("clip","rect({0}px {1}px {2}px {3}px".format(this.top,this.left+this.clipWidth,this.top+this.clipHeight,this.left)),this.callEvent("change",{top:this.top,left:this.left,bottom:this.bottom,right:this.right,width:this.clipWidth,height:this.clipHeight})},a.prototype.getData=function(){var t=this;return t.data={originWidth:t.imgWidth,originHeight:t.imgHeight,scaleWidth:t.width,scaleHeight:t.height,width:t.right-t.left,height:t.bottom-t.top,left:t.left,top:t.top,right:t.right,bottom:t.bottom,scaled:t.imgWidth!=t.width||t.imgHeight!=t.height},t.data},a.prototype.bindEvents=function(){var i=this,o=this.options;this.$.resize(t.proxy(this.initSize,this)),this.$btn.hover(function(){i.$.toggleClass("hover")}).click(function(){var e=i.getData();if(i.callEvent("before",e)){var a=o.post||o.get||o.url||null;null!==a&&t.ajax({type:o.post?"POST":"GET",url:a,data:e}).done(function(t){i.callEvent("done",t)}).fail(function(t){i.callEvent("fail",t)}).always(function(t){i.callEvent("always",t)})}}),this.$controller.draggable({move:!1,container:this.$canvas,drag:function(t){i.left+=t.smallOffset.x,i.top+=t.smallOffset.y,i.refreshSize()}}),this.$controller.children(".control").draggable({move:!1,container:this.$canvas,stopPropagation:!0,drag:function(t){var a=t.element.data("direction"),s=t.smallOffset,n=!1;switch(a){case"left":case"top-left":case"bottom-left":i.left+=s.x,i.left=e.min(i.right-o.minWidth,e.max(0,i.left)),i.clipWidth=i.right-i.left;break;case"right":case"top-right":case"bottom-right":i.clipWidth+=s.x,i.clipWidth=e.min(i.width-i.left,e.max(o.minWidth,i.clipWidth))}switch(a){case"top":case"top-left":case"top-right":i.top+=s.y,i.top=e.min(i.bottom-o.minHeight,e.max(0,i.top)),i.clipHeight=i.bottom-i.top,n=!0;break;case"bottom":case"bottom-left":case"bottom-right":i.clipHeight+=s.y,i.clipHeight=e.min(i.height-i.top,e.max(o.minHeight,i.clipHeight)),n=!0}i.refreshSize(n)}})},t.fn.imgCutter=function(e){return this.each(function(){var i=t(this),s=i.data(o),n="object"==typeof e&&e;s||i.data(o,s=new a(this,n)),"string"==typeof e&&s[e]()})},t.fn.imgCutter.Constructor=a,t(function(){t('[data-toggle="imgCutter"]').imgCutter()})}(jQuery,Math,void 0),function(t){"use strict";function e(e,i){if(e===!1)return e;if(!e)return i;e===!0?e={add:!0,"delete":!0,edit:!0,sort:!0}:"string"==typeof e&&(e=e.split(","));var o;return t.isArray(e)&&(o={},t.each(e,function(e,i){t.isPlainObject(i)?o[i.action]=i:o[i]=!0}),e=o),t.isPlainObject(e)&&(o={},t.each(e,function(e,i){i?o[e]=t.extend({type:e},n[e],t.isPlainObject(i)?i:null):o[e]=!1}),e=o),i?t.extend(!0,{},i,e):e}function i(e,i,o){return i=i||e.type,t(o||e.template).addClass("tree-action").attr(t.extend({"data-type":i,title:e.title||""},e.attr)).data("action",e)}var o="zui.tree",a=0,s=function(e,i){this.name=o,this.$=t(e),this.getOptions(i),this._init()},n={sort:{template:'<a class="sort-handler" href="javascript:;"><i class="icon icon-move"></i></a>'},add:{template:'<a href="javascript:;"><i class="icon icon-plus"></i></a>'},edit:{template:'<a href="javascript:;"><i class="icon icon-pencil"></i></a>'},"delete":{template:'<a href="javascript:;"><i class="icon icon-trash"></i></a>'}};s.DEFAULTS={animate:null,initialState:"normal",toggleTemplate:'<i class="list-toggle icon"></i>'},s.prototype.add=function(e,i,o,a,s){var n,r=t(e),l=this.options;if(r.is("li")?(n=r.children("ul"),n.length||(n=t("<ul/>"),r.append(n),this._initList(n,r))):n=r,n){var d=this;t.isArray(i)||(i=[i]),t.each(i,function(e,i){var o=t("<li/>").data(i).appendTo(n);void 0!==i.id&&o.attr("data-id",i.id);var a=l.itemWrapper?t(l.itemWrapper===!0?'<div class="tree-item-wrapper"/>':l.itemWrapper).appendTo(o):o;if(i.html)a.html(i.html);else if(t.isFunction(d.options.itemCreator)){var s=d.options.itemCreator(o,i);s!==!0&&s!==!1&&a.html(s)}else i.url?a.append(t("<a/>",{href:i.url}).text(i.title||i.name)):a.append(t("<span/>").text(i.title||i.name));d._initItem(o,i.idx||e,n,i),i.children&&i.children.length&&d.add(o,i.children)}),this._initList(n),o&&!n.hasClass("tree")&&d.expand(n.parent("li"),a,s)}},s.prototype.reload=function(e){var i=this;e&&(i.$.empty(),i.add(i.$,e)),i.isPreserve&&i.store.time&&i.$.find("li:not(.tree-action-item)").each(function(){var e=t(this);i[i.store[e.data("id")]?"expand":"collapse"](e,!0,!0)})},s.prototype._initList=function(o,a,s,n){var r=this;o.hasClass("tree")?(s=0,a=null):(a=(a||o.closest("li")).addClass("has-list"),a.find(".list-toggle").length||a.prepend(this.options.toggleTemplate),s=s||a.data("idx")),o.removeClass("has-active-item");var l=o.attr("data-idx",s||0).children("li:not(.tree-action-item)").each(function(e){r._initItem(t(this),e+1,o)});1!==l.length||l.find("ul").length||l.addClass("tree-single-item"),n=n||(a?a.data():null);var d=e(n?n.actions:null,this.actions);if(d){if(d.add&&d.add.templateInList!==!1){var c=o.children("li.tree-action-item");c.length?c.detach().appendTo(o):t('<li class="tree-action-item"/>').append(i(d.add,"add",d.add.templateInList)).appendTo(o)}d.sort&&o.sortable(t.extend({dragCssClass:"tree-drag-holder",trigger:".sort-handler",selector:"li:not(.tree-action-item)",finish:function(t){r.callEvent("action",{action:d.sort,$list:o,target:t.target,item:n})}},d.sort.options,t.isPlainObject(this.options.sortable)?this.options.sortable:null))}a&&(a.hasClass("open")||n&&n.open)&&a.addClass("open in")},s.prototype._initItem=function(o,a,s,n){if(void 0===a){var r=o.prev("li");a=r.length?r.data("idx")+1:1}if(s=s||o.closest("ul"),o.attr("data-idx",a).removeClass("tree-single-item"),!o.data("id")){var l=a;s.hasClass("tree")||(l=s.parent("li").data("id")+"-"+l),o.attr("data-id",l)}o.hasClass("active")&&s.parent("li").addClass("has-active-item"),n=n||o.data();var d=e(n.actions,this.actions);if(d){var c=o.find(".tree-actions");c.length||(c=t('<div class="tree-actions"/>').appendTo(this.options.itemWrapper?o.find(".tree-item-wrapper"):o),t.each(d,function(t,e){e&&c.append(i(e,t))}))}var h=o.children("ul");h.length&&this._initList(h,o,a,n)},s.prototype._init=function(){var i=this.options,s=this;this.actions=e(i.actions),this.$.addClass("tree"),i.animate&&this.$.addClass("tree-animate"),this._initList(this.$);var n=i.initialState,r=t.zui&&t.zui.store&&t.zui.store.enable;r&&(this.selector=o+"::"+(i.name||"")+"#"+(this.$.attr("id")||a++),this.store=t.zui.store[i.name?"get":"pageGet"](this.selector,{})),"preserve"===n&&(r?this.isPreserve=!0:this.options.initialState=n="normal"),this.reload(i.data),r&&(this.isPreserve=!0),"expand"===n?this.expand():"collapse"===n&&this.collapse(),this.$.on("click",'.list-toggle,a[href="#"],.tree-toggle',function(e){var i=t(this),o=i.parent("li");s.callEvent("hit",{target:o,item:o.data()}),s.toggle(o),i.is("a")&&e.preventDefault()}).on("click",".tree-action",function(){var e=t(this),i=e.data();if(i.action&&(i=i.action),"sort"!==i.type){var o=e.closest("li:not(.tree-action-item)");s.callEvent("action",{action:i,target:this,$item:o,item:o.data()})}})},s.prototype.preserve=function(e,i,o){if(this.isPreserve)if(e)i=i||e.data("id"),o=void 0===o&&e.hasClass("open"),o?this.store[i]=o:delete this.store[i],this.store.time=(new Date).getTime(),t.zui.store[this.options.name?"set":"pageSet"](this.selector,this.store);else{var a=this;this.store={},this.$.find("li").each(function(){a.preserve(t(this))})}},s.prototype.expand=function(t,e,i){t?(t.addClass("open"),!e&&this.options.animate?setTimeout(function(){t.addClass("in")},10):t.addClass("in")):t=this.$.find("li.has-list").addClass("open in"),i||this.preserve(t),this.callEvent("expand",t,this)},s.prototype.show=function(e,i,o){var a=this;e.each(function(){var e=t(this);if(a.expand(e,i,o),e)for(var s=e.parent("ul");s&&s.length&&!s.hasClass("tree");){var n=s.parent("li");n.length?(a.expand(n,i,o),s=n.parent("ul")):s=!1}})},s.prototype.collapse=function(t,e,i){t?!e&&this.options.animate?(t.removeClass("in"),setTimeout(function(){t.removeClass("open")},300)):t.removeClass("open in"):t=this.$.find("li.has-list").removeClass("open in"),i||this.preserve(t),this.callEvent("collapse",t,this)},s.prototype.toggle=function(t){var e=t&&t.hasClass("open")||t===!1||void 0===t&&this.$.find("li.has-list.open").length;this[e?"collapse":"expand"](t)},s.prototype.getOptions=function(e){this.options=t.extend({},s.DEFAULTS,this.$.data(),e),null===this.options.animate&&this.$.hasClass("tree-animate")&&(this.options.animate=!0)},s.prototype.toData=function(e,i){t.isFunction(e)&&(i=e,e=null),e=e||this.$;var o=this;return e.children("li:not(.tree-action-item)").map(function(){var e=t(this),a=e.data();delete a["zui.droppable"];var s=e.children("ul");return s.length&&(a.children=o.toData(s)),t.isFunction(i)?i(a,e):a}).get()},s.prototype.callEvent=function(e,i){var o;return t.isFunction(this.options[e])&&(o=this.options[e](i,this)),this.$.trigger(t.Event(e+"."+this.name,i)),o},t.fn.tree=function(e,i){return this.each(function(){var a=t(this),n=a.data(o),r="object"==typeof e&&e;n||a.data(o,n=new s(this,r)),"string"==typeof e&&n[e](i)})},t.fn.tree.Constructor=s,t(function(){t('[data-ride="tree"]').tree()})}(jQuery),function(t,e){"use strict";var i="zui.table",o={zh_cn:{selectedItems:"已选择 <strong>{0}</strong> 项",attrTotal:"{0}总计 <strong>{1}</strong>"},zh_tw:{selectedItems:"已选择 <strong>{0}</strong> 项",attrTotal:"{0}总计 <strong>{1}</strong>"},en:{selectedItems:"Seleted <strong>{0}</strong> items",attrTotal:"{0} total <strong>{1}</strong>"}},a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),s=function(e,a){var n=this;n.name=i;var r=n.$=t(e);a=n.options=t.extend({},s.DEFAULTS,this.$.data(),a);var l=a.lang||"zh_cn";n.lang=t.isPlainObject(l)?t.extend(!0,{},o[l.lang||t.zui.clientLang()],l):o[l],r.attr("id")||(r.attr("id","table-"+t.zui.uuid()),a.hot&&console.warn("ZUI: table hot replace id not defined, the element id attribute should be set.")),r.attr("data-ride")||r.attr("data-ride","table"),n.getTable().find("thead>tr>th").each(function(){var e=t(this);if(!e.attr("title")){var i=t.trim(e.find("a").text()||e.text()||"");i.length&&e.attr("title",i)}}),a.checkable&&(r.on("click",".check-all",function(){n.checkAll(!t(this).hasClass("checked"))}).on("click","tbody>tr",function(e){t(e.target).closest('.btn,a,.not-check,.form-control,input[type="text"],.chosen-container').length||n.checkRow(t(this))}).on("click",'tbody input[type="checkbox"],tbody label[for]',function(e){e.stopPropagation();var i=t(this);i.is("label")&&(i=i.closest(".checkbox-primary").find('input[type="checkbox"]')),n.checkRow(i.closest("tr"),i.is(":checked"))}),a.selectable&&r.selectable(t.extend({},{selector:n.isDataTable?".fixed-left tbody>tr":"tbody>tr",selectClass:"",trigger:".c-id",clickBehavior:"multi",listenClick:!1,select:function(e){n.checkRow(e.target,!0),t.cookie("ajax_dragSelected")||(t.cookie("ajax_dragSelected","on",{expires:config.cookieLife,path:config.webRoot}),t.ajaxSendScore("dragSelected"))},unselect:function(t){n.checkRow(t.target,!1)},rangeStyle:{border:"1px solid #006af1",backgroundColor:"rgba(50,128,252,0.2)",borderRadius:"2px"}},t.isPlainObject(a.selectable)?a.selectable:null)));var d=n.$form=r.is("form")?r:r.find("form");d.length&&(a.ajaxForm?d.ajaxForm(t.isPlainObject(a.ajaxForm)?a.ajaxForm:null):d.on("click","[data-form-action]",function(){d.attr("action",t(this).data("formAction")).submit()})),(a.fixFooter||a.fixHeader)&&(n.pageFooterHeight=t("#footer").outerHeight(),n.pageHeaderHeight=t("#mainNavbar").outerHeight(),n.updateFixUI(),t(window).on("scroll resize",function(){n.updateFixUI()}).on("sidebar.toggle",function(){setTimeout(function(){n.updateFixUI()},200)})),a.group&&(r.on("click",".group-toggle",function(){n.toggleRowGroup(t(this).closest("tr").data("id"))}),t(document).on("click",".group-collapse-all",function(){n.toggleGroups(!1)}).on("click",".group-expand-all",function(){n.toggleGroups(!0)})),n.defaultStatistic=r.find(".table-statistic").html(),n.updateStatistic(),n.initModals(),n.checkItems={},n.updateCheckUI()};s.prototype.reload=function(e){var i=this,o=i.options,a=o.replaceId;if(!a)return e&&e();"self"===a&&(a=i.$.attr("id"));var s=t("<div></div>");i.$.addClass("load-indicator loading"),s.load(window.location.href+" #"+a,function(){i.$.empty().html(s.children().html()).removeClass("load-indicator loading"),i.$.trigger("beforeTableReload"),i.updateStatistic(),i.initModals(),i.$.datepickerAll();var a=i.$.find("tbody>tr"),n=!1;t.each(i.checkItems,function(t,e){e&&(i.checkRow(a.filter('[data-id="'+t+'"]'),!0,!0),n=!0)}),n&&i.updateCheckUI(),i.$.trigger("tableReload");var r=t("#mainMenu>.btn-toolbar>.btn-active-text>.label");r.length&&r.text(i.getTable().find("tbody:first>tr:not(.table-children)").length),i.$.find('[data-ride="pager"]').pager(),e&&e(),o.afterReload&&o.afterReload()})},s.prototype.initModals=function(){var e=this,i=e.options,o=e.$.find(i.iframeModalTrigger);if(o.length){var a={type:"iframe",onHide:i.replaceId?function(){var o=t.cookie("selfClose");(1==o||i.hot)&&(t("#triggerModal").data("cancel-reload",1),e.reload(function(){t.cookie("selfClose",0)}))}:null};o.modalTrigger(a)}},s.prototype.getTable=function(){var t=this.$;if(this.isDataTable)return t.find("div.datatable");var e=t.is("table")?t:t.find("table:not(.fixed-header-copy)").first();return e.is(".datatable")&&(this.isDataTable=!0,e=t.find("div.datatable")),e},s.prototype.toggleGroups=function(e){var i=this,o={};i.$.find("tbody>tr").each(function(){var a=t(this).closest("tr").data("id");o[a]||i.toggleRowGroup(a,e)})},s.prototype.toggleRowGroup=function(i,o){var a=this.$.find('tbody>tr[data-id="'+i+'"]'),s=a.filter(".group-summary"),n=o===e?!s.hasClass("hidden"):!!o;a.not(".group-summary").toggleClass("hidden",!n),s.toggleClass("hidden",n),t("body").toggleClass("table-group-collapsed",!this.$.find("tbody>tr.group-summary.hidden").length)},s.prototype.updateStatistic=function(){var i=this,o=i.$.find(".table-statistic");if(o.length){if(i.defaultStatistic===e&&(i.defaultStatistic=o.html()),i.options.statisticCreator)return void o.html(i.options.statisticCreator(i)||i.defaultStatistic);var a=i.statisticCols;if(!a&&a!==!1){a={};var s=!1;i.getTable().find("thead th").each(function(e){var i=t(this),o=i.data("statistic");o&&(s=!0,a[e]={format:o,name:i.text()})}),i.statisticCols=!!s&&a}var n=0;a&&t.each(a,function(t){a[t].total=0,a[t].checkedTotal=0}),i.$.find(i.isDataTable?".fixed-left tbody>tr":"tbody>tr").each(function(){var e=t(this),i=e.hasClass("checked"),o=e.children("td");i&&n++,a&&t.each(a,function(t){var e=parseFloat(o.eq(t).text());isNaN(e)&&(e=0),a[t].total+=e,i&&(a[t].checkedTotal+=e)})});var r=[];if(n)r.push(i.lang.selectedItems.format(n));else if(i.defaultStatistic)return void o.html(i.defaultStatistic);a&&t.each(a,function(t){var e=a[t],o=e[n?"checkedTotal":"total"];e.format&&(o=e.format.format(o)),r.push(i.lang.attrTotal.format(e.name,o))}),o.html(r.join(", "))}},s.prototype.updateFixUI=function(e){var i=this,o=(new Date).getTime();if(!e&&(i.lastUpdateCall&&clearTimeout(i.lastUpdateCall),!i.lastUpdateTime||o-i.lastUpdateTime<100))return void(i.lastUpdateCall=setTimeout(function(){i.updateFixUI(!0)},30));if(i.lastUpdateTime=o,i.lastUpdateCall&&(clearTimeout(i.lastUpdateCall),i.lastUpdateCall=null),a){var s=i.getTable();if(s.parent().is(".table-responsive")){var n=s.find("thead"),r=0;n.find("th").each(function(){r+=t(this).outerWidth()}),s.css("min-width",r)}}i.options.fixHeader&&!i.isDataTable&&i.fixHeader(),i.options.fixFooter&&i.fixFooter()},s.prototype.fixHeader=function(){var e=this,i=e.getTable(),o=i.find("thead"),a=o[0].getBoundingClientRect(),s=e.options.fixHeader,n=t.isFunction(s)?s(a,o):a.top<("number"==typeof s?s:e.pageHeaderHeight||-5),r=e.$.find(".fix-table-copy-wrapper"),l=i.parent(),d=l.is(".table-responsive");if(n){if(r.length||(r=t('<div class="fix-table-copy-wrapper" style="overflow: hidden; position:fixed; z-index: 3; top: 0;"></div>').append(t('<table class="fixed-header-copy"></table>').addClass(i.attr("class")).append(o.clone())).insertAfter(i)),d){var c=l[0].getBoundingClientRect();r.css({top:e.pageHeaderHeight||0,left:c.left,width:l.width()}),r.find(".fixed-header-copy").css({left:a.left-c.left,position:"relative",minWidth:i.width()}),l.data("fixHeaderScroll")||l.data("fixHeaderScroll",1).on("scroll",function(){e.fixHeader()})}else r.css({top:e.pageHeaderHeight||0,left:a.left,width:a.width});var h=r.find("th");o.find("th").each(function(e){h.eq(e).css("width",t(this).outerWidth())})}else r.remove()},s.prototype.fixFooter=function(){var e,i=this,o=i.getTable(),a=i.$.find(".table-footer");if(i.isDataTable)e=o[0].getBoundingClientRect();else{var s=o.find("tbody");if(!s.length)return;e=s[0].getBoundingClientRect(),e=s[0].getBoundingClientRect()}var n=i.options.fixFooter;a.toggleClass("fixed-footer",!!r);var r=t.isFunction(n)?n(e,a):e.bottom>window.innerHeight-50-("number"==typeof n?n:i.pageFooterHeight||5);a.toggleClass("fixed-footer",!!r),o.toggleClass("with-footer-fixed",!!r),o.trigger("fixFooter",r);var l=t("body"),d=l.hasClass("body-modal");if(r){var c=o.parent(),h=c.is(".table-responsive");a.css({bottom:i.pageFooterHeight||0,left:h?c[0].getBoundingClientRect().left:e.left,width:h?c.width():e.width}),d&&l.css("padding-bottom",40)}else a.css({width:"",left:0,bottom:0}),d&&l.css("padding-bottom",0)},s.prototype.checkAll=function(e){var i=this,o=i.$.find(i.isDataTable?".fixed-left tbody>tr":"tbody>tr");o.each(function(){i.checkRow(t(this),e,!0)}),i.updateCheckUI()},s.prototype.checkRow=function(t,i,o){var a=this;a.isDataTable&&!t.is(".datatable-row-left")&&(t=a.getTable().find('.datatable-row-left[data-index="'+t.data("index")+'"]'));var s=t.find('input[type="checkbox"]');s.length&&(i===e&&(i=!s.is(":checked")),a.isDataTable?a.getTable().find('.datatable-row[data-index="'+t.data("index")+'"]').toggleClass("checked",i):t.toggleClass("checked",i),this.checkItems[t.data("id")]=i,s.prop("checked",i).trigger("change"),o||a.updateCheckUI())},s.prototype.updateCheckUI=function(){var e=this,i=e.getTable(),o=i.find(e.isDataTable?".fixed-left tbody>tr":"tbody>tr").not(".group-summary"),a=!1,s=null,n=0,r=!1,l=o.length;o.each(function(o){var d=t(this),c=d.find('input[type="checkbox"]');r=c.is(":checked");var h=e.isDataTable?i.find('.datatable-row[data-index="'+d.data("index")+'"]'):d;h.toggleClass("checked",r),h.toggleClass("row-check-begin",r&&!a),s&&s.toggleClass("row-check-end",!r&&a),r&&(n+=1),s=h,a=r,l===o+1&&h.toggleClass("row-check-end",r)}),e.$.toggleClass("has-row-checked",n>0).find(".check-all").toggleClass("checked",!(!l||n!==l)),e.updateStatistic(),e.options.onCheckChange&&e.options.onCheckChange()},s.DEFAULTS={checkable:!1,ajaxForm:!1,selectable:!1,fixHeader:!0,fixFooter:!0,iframeWidth:900,replaceId:"self",hot:!1,iframeModalTrigger:'.iframe,[data-toggle="modal"][data-type!="ajax"]'},t.fn.table=function(e){return this.each(function(){var o=t(this),a=o.data(i),n="object"==typeof e&&e;a||o.data(i,a=new s(this,n)),"string"==typeof e&&a[e]()})},s.NAME=i,t.fn.table.Constructor=s,t(function(){t('[data-ride="table"]').table()})}(jQuery,void 0),function(t){window.config||(window.config={}),window.createLink||(t.createLink=window.createLink=function(t,e,o,a,s){if(a||(a=config.defaultView),s||(s=!1),o)for(o=o.split("&"),i=0;i<o.length;i++){var n=o[i].split("=");o[i]=[n.shift(),n.join("=")]}var r;if("GET"!=config.requestType){if("PATH_INFO"==config.requestType&&(r=config.webRoot+t+config.requestFix+e),"PATH_INFO2"==config.requestType&&(r=config.webRoot+"index.php/"+t+config.requestFix+e),o)for(i=0;i<o.length;i++)r+=config.requestFix+o[i][1];r+="."+a}else if(r=config.router+"?"+config.moduleVar+"="+t+"&"+config.methodVar+"="+e+"&"+config.viewVar+"="+a,o)for(i=0;i<o.length;i++)r+="&"+o[i][0]+"="+o[i][1];if(void 0!==config.onlybody&&"yes"==config.onlybody||s){var l="GET"!=config.requestType?"?onlybody=yes":"&onlybody=yes";r+=l}return r}),t(function(){var e=t("#main,#mainContent,#mainRow,.auto-fade-in");e.length&&e.hasClass("fade")&&setTimeout(function(){e.addClass("in")},e.data("fadeTime")||200)}),t.removeAnchor=window.removeAnchor=function(t){var e=t.lastIndexOf("#");return e>-1?t.substr(0,e):t},t.refreshPage=function(){location.href=removeAnchor(location.href)},t.chosenDefaultOptions={middle_highlight:!0,disable_search_threshold:1,compact_search:!0,allow_single_deselect:!0,placeholder_text_single:" ",placeholder_text_multiple:" ",search_contains:!0,drop_direction:function(){var e=t(this.container).closest(".table-responsive:not(.scroll-none)");if(e.length){if(this.drop_directionFixed)return this.drop_directionFixed;var i="down",o=this.container.find(".chosen-drop"),a=this.container.position(),s=o.outerHeight();return a.top>=s&&a.top+s<e.outerHeight()&&(i="up"),this.drop_directionFixed=i,i}return"auto"}},t.chosenSimpleOptions=t.extend({},t.chosenDefaultOptions,{disable_search_threshold:6}),t.fn._chosen=t.fn.chosen,t.fn.chosen=function(e){return"string"==typeof e?this._chosen(e):this.each(function(){var i=t(this).addClass("chosen-controled");return i._chosen(t.extend({},i.hasClass("chosen-simple")?t.chosenSimpleOptions:t.chosenDefaultOptions,i.data(),e))})},t(function(){t(".chosen,.chosen-simple").each(function(){var e=t(this);e.closest(".template").length||e.chosen()})}),t.extend(t.fn.pager.Constructor.DEFAULTS,{maxNavCount:8,prevIcon:"icon-angle-left",nextIcon:"icon-angle-right",firstIcon:"icon-first-page",lastIcon:"icon-last-page",navEllipsisItem:"…",menuDirection:"dropup",pageSizeOptions:[5,10,15,20,25,30,35,40,45,50,100,200,500,1e3,2e3],elements:["total_text","size_menu","first_icon","prev_icon",'<div class="pager-label"><strong>{page}</strong>/<strong>{totalPage}</strong></div>',"next_icon","last_icon"],onPageChange:function(e,i){e.recPerPage!==i.recPerPage&&t.cookie(this.options.pageCookie,e.recPerPage,{expires:config.cookieLife,path:config.webRoot}),e.recPerPage!==i.recPerPage&&(window.location.href=this.createLink())}}),t.zui.Messager.DEFAULTS.cssClass="messagger-rz",t.fn.reverseOrder=function(){return this.each(function(){var e=t(this);e.prependTo(e.parent())})};var e=function(e,i){var o=t(e);i=t.extend({},o.data(),i);var a=o.find(".histories-list"),s=!0,n=!1;if(o.on("click",".btn-reverse",function(){a.children("li").reverseOrder(),s=!s,t(this).find(".icon").toggleClass("icon-arrow-up",s).toggleClass("icon-arrow-down",!s),t.cookie&&t.cookie("historyOrder",s?"log-asc":"log-desc",{path:v.webRoot});var e="#lastComment",i=t(e);i.length&&window.KindEditor&&t.fn.kindeditor&&(window.KindEditor.remove(e),i.kindeditor())}).on("click",".btn-expand-all",function(){var e=t(this).find(".icon");n=!n,e.toggleClass("icon-plus",!n).toggleClass("icon-minus",n),a.children("li").toggleClass("show-changes",n)}).on("click",".btn-expand",function(){t(this).closest("li").toggleClass("show-changes")}).on("click",".btn-strip",function(){var e=t(this),o=e.find(".icon"),a=o.hasClass("icon-code");o.toggleClass("icon-code",!a).toggleClass("icon-text",a),e.attr("title",a?i.original:i.textdiff),e.closest("li").toggleClass("show-original",a)}),a.find(".btn-strip").attr("title",i.original),t.cookie){var r=t.cookie("historyOrder");"log-desc"===r&&o.find(".btn-reverse").click()}var l=o.find(".modal-comment").modal({show:!1}).on("shown.zui.modal",function(){var t=l.find("#comment");t.length&&(t.focus(),window.editor&&window.editor.comment&&window.editor.comment.focus())}).on("show.zui.modal",function(){var e=l.find("#comment");e.length&&!e.data("keditor")&&t.fn.kindeditor&&e.kindeditor()});o.on("click",".btn-comment",function(t){l.modal("toggle"),t.preventDefault()}).on("click",".btn-edit-comment,.btn-hide-form",function(){t(this).closest("li").toggleClass("show-form")});var d=o.find(".comment-edit-form");d.ajaxForm({success:function(t,e,i,o){setTimeout(function(){d.closest("li").removeClass("show-form")},2e3)}})};t.fn.histories=function(t){return this.each(function(){e(this,t)})},t(function(){t(".histories").histories()}),t.fn.colorPicker&&t.extend(t.fn.colorPicker.Constructor.DEFAULTS,{colors:["#3DA7F5","#75C941","#2DBDB2","#797EC9","#FFAF38","#FF4E3E"]}),t.extend(t.fn.modal.bs.Constructor.DEFAULTS,{scrollInside:!0,backdrop:"static",headerHeight:100}),t.extend(t.zui.ModalTrigger.DEFAULTS,{scrollInside:!0,backdrop:"static",headerHeight:40}),t.fixedTableHead=window.fixedTableHead=function(e,i){var o=t(e);if(o.is("table")||(o=o.find("table")),o.length){var a=t(i||window),s=null,n=function(){var e=o.children("thead"),i=e[0].getBoundingClientRect(),a=o.next(".fixed-head-table");if(i.top<0){var n=e.width();if(a.length){if(s!==n){s=n;var r=a.find("th");e.find("th").each(function(e){r.eq(e).width(t(this).width())})}}else{var a=t("<table class='table fixed-head-table' style='position:fixed; top: 0;'></table>").addClass(o.attr("class")),l=e.clone(),r=l.find("th");e.find("th").each(function(e){r.eq(e).width(t(this).width())}),a.append(l).insertAfter(o)}a.css({left:i.left,width:i.width}).show()}else a.hide()};a.on("scroll",n).on("resize",n),n()}},t(document).on("click","tr[data-url]",function(e){if(!t(e.target).is("a")){var i=t(this),o=i.data("href")||i.data("url");o&&(window.location.href=o)}}),"yes"===config.onlybody&&self===parent&&(window.location.href=window.location.href.replace("?onlybody=yes","").replace("&onlybody=yes","")),t(function(){t("body").addClass("m-{currentModule}-{currentMethod} app-{appName}".format(config))}),t.fn.tree.Constructor.DEFAULTS.initialState="preserve",t.closeModal=function(e,i,o){t.zui.closeModal(o,e,i)};var o=4,a=function(e){var i,a,s=t(e),n=s.children(".input-group-addon,.form-control:not(.chosen-controled),.chosen-container,.btn,.input-control,.input-group-btn,.datepicker-wrapper");n.each(function(e){var s=t(this),r=s.is(".input-group-addon")?"addon":s.is(".chosen-container")?"chosen":s.is(".btn")?"btn":s.is(".input-control,.datepicker-wrapper")?"insideInput":s.is(".input-group-btn")?"insideBtn":"input",l=!i,d=e===n.length-1,c={};c.borderTopLeftRadius=0,c.borderBottomLeftRadius=0,c.borderTopRightRadius=0,c.borderBottomRightRadius=0,l&&("addon"===r&&(c.borderLeftWidth=1),c.borderTopLeftRadius=o,c.borderBottomLeftRadius=o),d&&("addon"===r&&(c.borderRightWidth=1),c.borderTopRightRadius=o,c.borderBottomRightRadius=o),a&&("chosen"!==a&&"input"!==a&&"btn"!==a&&"insideInput"!==a&&"insideBtn"!==a||"chosen"!==r&&"input"!==a&&"btn"!==r&&"insideInput"!==r&&"insideBtn"!==r||(c.borderLeftColor="transparent")),("insideBtn"===r?s.find(".btn"):"insideInput"===r?s.find(".form-control"):"chosen"===r?s.find(".chosen-single,.chosen-choices"):s).css(c),i=s,a=r})};t.fn.fixInputGroup=function(){return this.each(function(){a(this)})},t.fn.fixInputGroup=function(){return this.each(function(){a(this)})};var s=function(){var e=t(".main-actions>.btn-toolbar");if(e.length){var i,o,a=!1,s=null,n=e.children(),r=n.length;for(n.each(function(e){i=t(this),o=i.is(".divider"),o&&!s&&i.hide(),a||o||(a=!0),s=o?null:i,!o||e!==r-1&&0!==e||i.hide()});i.length&&i.is(".divider");)i=i.hide().prev();a||e.hide()}},n=function(){for(var e=t("#mainContent>.main-col"),i=e.children(".main-actions"),o=i.prev();o.length&&o.is(":hidden");)o=o.prev();if(i.length&&o.length){t('<div class="main-actions-holder"></div>').css("height",i.outerHeight()).insertAfter(i);var a=function(){var e=o[0].getBoundingClientRect(),a=e.top+e.height+120>t(window).height();t("body").toggleClass("main-actions-fixed",a),a&&i.width(o.width())};t.resetToolbarPosition=a,a(),t(window).on("resize scroll",a)}};t(function(){t("#menuActions").appendTo("#menu"),t(".input-group,.btn-group").fixInputGroup(),s(),n()})}(jQuery);